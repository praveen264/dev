(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[46],{1598:function(e,t,c){"use strict";c.r(t);var n=c(540),s=c.n(n),r=c(541),a=c(526),i=c(0),o=c(144),l=c(618),j=c(532),u=c.n(j),d=c(534),b=c(535),h=c(142),O=c(18),x={bucketName:"deveduveda1",dirName:"school_logos",region:"ap-south-1",accessKeyId:"AKIAZ6XP757OK2NV2CHZ",secretAccessKey:"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"};t.default=function(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),c=t[0],n=t[1],j=Object(i.useState)(""),m=Object(a.a)(j,2),p=m[0],f=m[1],g=Object(i.useState)(""),v=Object(a.a)(g,2),y=v[0],S=v[1],k=Object(i.useState)(""),C=Object(a.a)(k,2),w=C[0],U=C[1],q=Object(i.useState)(""),N=Object(a.a)(q,2),D=N[0],I=N[1],R=Object(i.useState)(""),E=Object(a.a)(R,2),P=E[0],_=E[1],A=Object(i.useState)(""),L=Object(a.a)(A,2),z=L[0],K=L[1],M=Object(i.useState)(""),F=Object(a.a)(M,2),J=F[0],W=F[1],Y=Object(i.useState)(0),Z=Object(a.a)(Y,2),B=Z[0],H=Z[1],V=Object(i.useState)(""),G=Object(a.a)(V,2),T=G[0],X=G[1],Q=Object(i.useState)(""),$=Object(a.a)(Q,2),ee=$[0],te=$[1],ce=Object(i.useState)(!1),ne=Object(a.a)(ce,2),se=ne[0],re=ne[1],ae=Object(i.useState)([]),ie=Object(a.a)(ae,2),oe=ie[0],le=ie[1],je=Object(i.useState)(""),ue=Object(a.a)(je,2),de=ue[0],be=ue[1],he=Object(i.useState)([]),Oe=Object(a.a)(he,2),xe=Oe[0],me=Oe[1],pe=Object(i.useState)(),fe=Object(a.a)(pe,2),ge=fe[0],ve=fe[1],ye=Object(i.useState)([]),Se=Object(a.a)(ye,2),ke=Se[0],Ce=Se[1],we=Object(i.useState)(),Ue=Object(a.a)(we,2),qe=Ue[0],Ne=Ue[1],De=Object(i.useState)(),Ie=Object(a.a)(De,2),Re=Ie[0],Ee=Ie[1],Pe=Object(i.useState)({}),_e=Object(a.a)(Pe,2),Ae=_e[0],Le=_e[1],ze=Object(i.useState)({}),Ke=Object(a.a)(ze,2),Me=Ke[0],Fe=Ke[1],Je=Object(i.useState)({}),We=Object(a.a)(Je,2),Ye=We[0],Ze=We[1],Be=Object(i.useState)({}),He=Object(a.a)(Be,2),Ve=He[0],Ge=He[1],Te=Object(i.useState)({}),Xe=Object(a.a)(Te,2),Qe=Xe[0],$e=Xe[1],et=Object(i.useState)({}),tt=Object(a.a)(et,2),ct=tt[0],nt=tt[1],st=Object(i.useState)({}),rt=Object(a.a)(st,2),at=rt[0],it=rt[1],ot=Object(i.useState)({}),lt=Object(a.a)(ot,2),jt=lt[0],ut=lt[1],dt=Object(i.useState)({}),bt=Object(a.a)(dt,2),ht=bt[0],Ot=bt[1],xt=Object(i.useState)({}),mt=Object(a.a)(xt,2),pt=mt[0],ft=mt[1],gt=Object(i.useState)({}),vt=Object(a.a)(gt,2),yt=vt[0],St=vt[1],kt=Object(i.useState)({}),Ct=Object(a.a)(kt,2),wt=Ct[0],Ut=Ct[1];Object(i.useEffect)((function(){u.a.get("http://test.saakshar.co.in/api/v1/auth/get-countries").then((function(e){var t=e.data.data;le(t)})).catch((function(e){console.log(e)}))}),[]);Object(i.useEffect)((function(){u.a.get("http://test.saakshar.co.in/api/v1"+"/auth/get-states/".concat(ge)).then((function(e){var t=e.data.data;me(t)})).catch((function(e){console.log(e)}))}),[ge]),Object(i.useEffect)((function(){u.a.get("http://test.saakshar.co.in/api/v1"+"/auth/get-cities/".concat(ge,"/").concat(qe)).then((function(e){var t=e.data.data;Ce(t)})).catch((function(e){console.log(e)}))}),[qe]);var qt=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(l.uploadFile)(t,x).then((function(e){return console.log(e,"Logo uploaded successfully")})).catch((function(e){return console.error(e,"")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Dt()){e.next=6;break}return e.next=5,u.a.post("http://test.saakshar.co.in/api/v1/auth/create-chain-school",{name:y,username:c,password:T,email:z,mobile:J,address:w,pin_code:D,state:qe,city:Re,website:P,other_details:"a",logo:de,share_resources:B}).then(function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t.data.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e={},t={},n={},s={},r={},a={},i={},o={},l=!0;return c.trim()?(/[^a-zA-Z0-9_.]/.test(c)||c.trim().length<6)&&(e.UserIDinvalid="UserID is Invalid (@ , # not suppourted) / < 6 Digits",l=!1):e.UserIDrequired="Required",y.trim()||(t.schoolNameShort=" Required",l=!1),D.trim()?(!/[123456789][0-9]{5}/.test(D)||D.trim().length>6)&&(n.pinshort="PIN should be 6 Digits only / PIN Can't Start with 0",l=!1):(n.pinreq=" Required",l=!1),w.trim()||(o.addressShort=" Required",l=!1),z.trim()?/\S+@\S+\.\S+/.test(z)||(s.emailinvalid="Email address is invalid",l=!1):(s.emailrequired="Required",l=!1),J.trim()?(J.trim().length>10||!/[6789][0-9]{9}/.test(J))&&(r.mobshort="Mobile number must be Valid & of 10 Digits Only",l=!1):(r.mobreq=" Required",l=!1),T.trim()?(T.trim().length<6||T.trim().length>20)&&(a.passshort="Invalid / < 6 Digits",l=!1):(a.passreq=" Required",l=!1),ee.trim()?ee!==T&&(i.pass2short="Doesn't Match ",l=!1):(a.pass2req="",l=!1),Le(e),Fe(t),Ze(n),ut({}),Ot(s),ft(r),St(a),Ut(i),$e({}),Ge({}),nt({}),it(o),l};return Object(O.jsx)("form",{onSubmit:Nt,children:Object(O.jsx)(h.U,{className:"justify-content-center",children:Object(O.jsx)(h.k,{children:Object(O.jsxs)(h.e,{children:[Object(O.jsxs)(h.f,{children:[Object(O.jsx)(h.U,{children:Object(O.jsx)(h.k,{md:"8",lg:"6",xl:"8",children:Object(O.jsx)("h5",{children:"Create Chain School"})})}),Object(O.jsx)("p",{className:"text-muted",children:"Register a Chain School"}),Object(O.jsxs)(h.U,{children:[Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{className:"required-field",children:"Chain School Name"}),Object(O.jsx)(h.x,{id:"school_name",placeholder:"Name of School",value:y,onChange:function(e){S(e.target.value)}},"schoolname"),Object.keys(Me).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Me[e]})}))]}),Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:"User Name :"}),Object(O.jsx)(h.x,{id:"school_name",placeholder:"Unique User Name",value:c,onChange:function(e){n(e.target.value)}},"username"),Object.keys(Ae).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Ae[e]})}))]})]}),Object(O.jsxs)(h.U,{children:[Object(O.jsxs)(h.k,{children:[Object(O.jsx)(h.y,{children:" Password :"}),Object(O.jsx)(h.x,{id:"",type:"password",value:T,onChange:function(e){X(e.target.value)}},"password"),Object.keys(yt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:yt[e]})}))]}),Object(O.jsxs)(h.k,{children:[Object(O.jsx)(h.y,{children:" Re-Enter Password :"}),Object(O.jsx)(h.x,{id:"",type:"password",value:ee,onChange:function(e){te(e.target.value)}},"re-password"),Object.keys(wt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:wt[e]})}))]})]}),Object(O.jsxs)(h.U,{children:[Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:"Email ID :"}),Object(O.jsx)(h.x,{id:"",placeholder:"School Email ID",value:z,onChange:function(e){K(e.target.value)}},"email"),Object.keys(ht).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:ht[e]})}))]}),Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" Mobile :"}),Object(O.jsx)(h.x,{id:"",placeholder:" Mobile Number",type:"number",value:J,onChange:function(e){W(e.target.value)}},"mobile"),Object.keys(pt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:pt[e]})}))]})]}),Object(O.jsxs)(h.U,{children:[Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" School Address:"}),Object(O.jsx)(h.A,{id:"",placeholder:"Address of Your School",rows:"1",value:w,onChange:function(e){U(e.target.value)}},"address"),Object.keys(at).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:at[e]})}))]}),Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" Pin:"}),Object(O.jsx)(h.x,{id:"pin",type:"number",placeholder:"Pin Code",value:D,onChange:function(e){I(e.target.value)}},"pin"),Object.keys(Ye).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Ye[e]})}))]})]}),Object(O.jsxs)(h.U,{children:[Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" Country:"}),Object(O.jsxs)(h.z,{value:oe.name,onChange:function(e){var t=e.target.value;ve(t)},children:[Object(O.jsx)("option",{children:"Select the Country"}),oe.map((function(e){return Object(O.jsx)("option",{value:e.country_code,children:e.name})}))]},"country"),Object.keys(ct).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:ct[e]})}))]}),Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" State:"}),Object(O.jsxs)(h.z,{value:xe.name,onChange:function(e){Ne(e.target.value)},children:[Object(O.jsx)("option",{disabled:!0,children:"Select the Country First"}),xe.map((function(e){return Object(O.jsx)("option",{value:e.state_code,children:e.name})}))]},"state"),Object.keys(Ve).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Ve[e]})}))]})]}),Object(O.jsxs)(h.U,{children:[Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" City:"}),Object(O.jsxs)(h.z,{value:ke.name,onChange:function(e){Ee(e.target.value)},children:[Object(O.jsx)("option",{disabled:!0,children:"Select the State First"}),ke.map((function(e){return Object(O.jsx)("option",{value:e.name,children:e.name})}))]},"city"),Object.keys(Qe).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Qe[e]})}))]}),Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:"Website Of School :"}),Object(O.jsx)(h.x,{id:"",placeholder:"Example ==> www.websiteofschool.com",value:P,onChange:function(e){_(e.target.value)}},"website"),Object.keys(jt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:jt[e]})}))]})]}),Object(O.jsx)(h.U,{children:Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" Upload Logo:"}),Object(O.jsx)(h.x,{type:"file",id:"",onChange:function(e){be(e.target.files[0].name),f(e.target.files[0])}},"logo")]})}),Object(O.jsx)(h.k,{children:Object(O.jsx)(h.v,{type:"checkbox",id:"gridCheck",label:"Allow Sharing of Learning Resources With Other Branches",value:1,onChange:function(e){H(e.target.checked)}},"check")})]}),Object(O.jsx)(h.g,{children:Object(O.jsx)(h.U,{children:Object(O.jsxs)(h.k,{md:"3",children:[Object(O.jsxs)(h.d,{block:!0,color:"light",onClick:function(){return re(!se)},style:{float:"left"},children:[Object(O.jsx)(b.a,{icon:d.o})," Cancel"]}),Object(O.jsxs)(h.H,{visible:se,onDismiss:function(){return re(!1)},children:[Object(O.jsx)(h.K,{onDismiss:function(){return re(!1)},children:Object(O.jsx)(h.L,{children:"Cancel"})}),Object(O.jsx)(h.I,{children:"Do You Want To Cancel ?"}),Object(O.jsxs)(h.J,{children:[Object(O.jsxs)(h.d,{color:"light",onClick:function(){return re(!1)},children:[Object(O.jsx)(b.a,{icon:d.o})," No"]}),Object(O.jsx)(o.b,{to:"/",children:Object(O.jsxs)(h.d,{color:"dark",children:[Object(O.jsx)(b.a,{icon:d.d})," Yes"]})})]})]}),Object(O.jsxs)(h.d,{block:!0,color:"dark",type:"submit",style:{marginLeft:"15px"},disabled:!y||!c||!z||!T||!J||!w||!D,onClick:function(){return qt(p)},children:[Object(O.jsx)(b.a,{icon:d.l})," Save"]})]})})})]})})})})}}}]);
//# sourceMappingURL=46.8ba529c4.chunk.js.map