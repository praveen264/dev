(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[42],{1614:function(e,t,c){"use strict";c.r(t);var n=c(583),r=c.n(n),s=c(584),a=c(553),i=c(0),o=c(145),l=c(926),j=c(560),u=c.n(j),d=c(603),b=c(607),h=c(142),O=c(18),x={bucketName:"deveduveda1",dirName:"school_logos",region:"ap-south-1",accessKeyId:"AKIAZ6XP757OK2NV2CHZ",secretAccessKey:"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"};t.default=function(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),c=t[0],n=t[1],j=Object(i.useState)(""),p=Object(a.a)(j,2),m=p[0],f=p[1],g=Object(i.useState)(""),v=Object(a.a)(g,2),y=v[0],k=v[1],S=Object(i.useState)(""),C=Object(a.a)(S,2),w=C[0],U=C[1],N=Object(i.useState)(""),q=Object(a.a)(N,2),I=q[0],D=q[1],R=Object(i.useState)(""),E=Object(a.a)(R,2),P=E[0],_=E[1],A=Object(i.useState)(""),L=Object(a.a)(A,2),z=L[0],K=L[1],M=Object(i.useState)(""),J=Object(a.a)(M,2),B=J[0],F=J[1],T=Object(i.useState)(0),W=Object(a.a)(T,2),Y=W[0],Z=W[1],H=Object(i.useState)(""),V=Object(a.a)(H,2),G=V[0],X=V[1],Q=Object(i.useState)(""),$=Object(a.a)(Q,2),ee=$[0],te=$[1],ce=Object(i.useState)(!1),ne=Object(a.a)(ce,2),re=ne[0],se=ne[1],ae=Object(i.useState)([]),ie=Object(a.a)(ae,2),oe=ie[0],le=ie[1],je=Object(i.useState)(""),ue=Object(a.a)(je,2),de=ue[0],be=ue[1],he=Object(i.useState)([]),Oe=Object(a.a)(he,2),xe=Oe[0],pe=Oe[1],me=Object(i.useState)(),fe=Object(a.a)(me,2),ge=fe[0],ve=fe[1],ye=Object(i.useState)([]),ke=Object(a.a)(ye,2),Se=ke[0],Ce=ke[1],we=Object(i.useState)(),Ue=Object(a.a)(we,2),Ne=Ue[0],qe=Ue[1],Ie=Object(i.useState)(),De=Object(a.a)(Ie,2),Re=De[0],Ee=De[1],Pe=Object(i.useState)({}),_e=Object(a.a)(Pe,2),Ae=_e[0],Le=_e[1],ze=Object(i.useState)({}),Ke=Object(a.a)(ze,2),Me=Ke[0],Je=Ke[1],Be=Object(i.useState)({}),Fe=Object(a.a)(Be,2),Te=Fe[0],We=Fe[1],Ye=Object(i.useState)({}),Ze=Object(a.a)(Ye,2),He=Ze[0],Ve=Ze[1],Ge=Object(i.useState)({}),Xe=Object(a.a)(Ge,2),Qe=Xe[0],$e=Xe[1],et=Object(i.useState)({}),tt=Object(a.a)(et,2),ct=tt[0],nt=tt[1],rt=Object(i.useState)({}),st=Object(a.a)(rt,2),at=st[0],it=st[1],ot=Object(i.useState)({}),lt=Object(a.a)(ot,2),jt=lt[0],ut=lt[1],dt=Object(i.useState)({}),bt=Object(a.a)(dt,2),ht=bt[0],Ot=bt[1],xt=Object(i.useState)({}),pt=Object(a.a)(xt,2),mt=pt[0],ft=pt[1],gt=Object(i.useState)({}),vt=Object(a.a)(gt,2),yt=vt[0],kt=vt[1],St=Object(i.useState)({}),Ct=Object(a.a)(St,2),wt=Ct[0],Ut=Ct[1];Object(i.useEffect)((function(){u.a.get("http://test.saakshar.co.in/api/v1/auth/get-countries").then((function(e){var t=e.data.data;le(t)})).catch((function(e){console.log(e)}))}),[]);Object(i.useEffect)((function(){u.a.get("http://test.saakshar.co.in/api/v1"+"/auth/get-states/".concat(ge)).then((function(e){var t=e.data.data;pe(t)})).catch((function(e){console.log(e)}))}),[ge]),Object(i.useEffect)((function(){u.a.get("http://test.saakshar.co.in/api/v1"+"/auth/get-cities/".concat(ge,"/").concat(Ne)).then((function(e){var t=e.data.data;Ce(t)})).catch((function(e){console.log(e)}))}),[Ne]);var Nt=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(l.uploadFile)(t,x).then((function(e){return console.log(e,"Logo uploaded successfully")})).catch((function(e){return console.error(e,"")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!It()){e.next=6;break}return e.next=5,u.a.post("http://test.saakshar.co.in/api/v1/auth/create-chain-school",{name:y,username:c,password:G,email:z,mobile:B,address:w,pin_code:I,state:Ne,city:Re,website:P,other_details:"a",logo:de,share_resources:Y}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t.data.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),It=function(){var e={},t={},n={},r={},s={},a={},i={},o={},l=!0;return c.trim()?(/[^a-zA-Z0-9_.]/.test(c)||c.trim().length<6)&&(e.UserIDinvalid="UserID is Invalid (@ , # not suppourted) / < 6 Digits",l=!1):e.UserIDrequired="Required",y.trim()||(t.schoolNameShort=" Required",l=!1),I.trim()?(!/[123456789][0-9]{5}/.test(I)||I.trim().length>6)&&(n.pinshort="PIN should be 6 Digits only / PIN Can't Start with 0",l=!1):(n.pinreq=" Required",l=!1),w.trim()||(o.addressShort=" Required",l=!1),z.trim()?/\S+@\S+\.\S+/.test(z)||(r.emailinvalid="Email address is invalid",l=!1):(r.emailrequired="Required",l=!1),B.trim()?(B.trim().length>10||!/[6789][0-9]{9}/.test(B))&&(s.mobshort="Mobile number must be Valid & of 10 Digits Only",l=!1):(s.mobreq=" Required",l=!1),G.trim()?(G.trim().length<6||G.trim().length>20)&&(a.passshort="Invalid / < 6 Digits",l=!1):(a.passreq=" Required",l=!1),ee.trim()?ee!==G&&(i.pass2short="Doesn't Match ",l=!1):(a.pass2req="",l=!1),Le(e),Je(t),We(n),ut({}),Ot(r),ft(s),kt(a),Ut(i),$e({}),Ve({}),nt({}),it(o),l};return Object(O.jsx)("form",{onSubmit:qt,children:Object(O.jsx)(h.U,{className:"justify-content-center",children:Object(O.jsx)(h.k,{children:Object(O.jsxs)(h.e,{children:[Object(O.jsxs)(h.f,{children:[Object(O.jsx)(h.U,{children:Object(O.jsx)(h.k,{md:"8",lg:"6",xl:"8",children:Object(O.jsx)("h5",{children:"Create Chain School"})})}),Object(O.jsx)("p",{className:"text-muted",children:"Register a Chain School"}),Object(O.jsxs)(h.U,{children:[Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{className:"required-field",children:"Chain School Name"}),Object(O.jsx)(h.x,{id:"school_name",placeholder:"Name of School",value:y,onChange:function(e){k(e.target.value)}},"schoolname"),Object.keys(Me).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Me[e]})}))]}),Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:"User Name :"}),Object(O.jsx)(h.x,{id:"school_name",placeholder:"Unique User Name",value:c,onChange:function(e){n(e.target.value)}},"username"),Object.keys(Ae).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Ae[e]})}))]})]}),Object(O.jsxs)(h.U,{children:[Object(O.jsxs)(h.k,{children:[Object(O.jsx)(h.y,{children:" Password :"}),Object(O.jsx)(h.x,{id:"",type:"password",value:G,onChange:function(e){X(e.target.value)}},"password"),Object.keys(yt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:yt[e]})}))]}),Object(O.jsxs)(h.k,{children:[Object(O.jsx)(h.y,{children:" Re-Enter Password :"}),Object(O.jsx)(h.x,{id:"",type:"password",value:ee,onChange:function(e){te(e.target.value)}},"re-password"),Object.keys(wt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:wt[e]})}))]})]}),Object(O.jsxs)(h.U,{children:[Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:"Email ID :"}),Object(O.jsx)(h.x,{id:"",placeholder:"School Email ID",value:z,onChange:function(e){K(e.target.value)}},"email"),Object.keys(ht).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:ht[e]})}))]}),Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" Mobile :"}),Object(O.jsx)(h.x,{id:"",placeholder:" Mobile Number",type:"number",value:B,onChange:function(e){F(e.target.value)}},"mobile"),Object.keys(mt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:mt[e]})}))]})]}),Object(O.jsxs)(h.U,{children:[Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" School Address:"}),Object(O.jsx)(h.A,{id:"",placeholder:"Address of Your School",rows:"1",value:w,onChange:function(e){U(e.target.value)}},"address"),Object.keys(at).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:at[e]})}))]}),Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" Pin:"}),Object(O.jsx)(h.x,{id:"pin",type:"number",placeholder:"Pin Code",value:I,onChange:function(e){D(e.target.value)}},"pin"),Object.keys(Te).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Te[e]})}))]})]}),Object(O.jsxs)(h.U,{children:[Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" Country:"}),Object(O.jsxs)(h.z,{value:oe.name,onChange:function(e){var t=e.target.value;ve(t)},children:[Object(O.jsx)("option",{children:"Select the Country"}),oe.map((function(e){return Object(O.jsx)("option",{value:e.country_code,children:e.name})}))]},"country"),Object.keys(ct).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:ct[e]})}))]}),Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" State:"}),Object(O.jsxs)(h.z,{value:xe.name,onChange:function(e){qe(e.target.value)},children:[Object(O.jsx)("option",{disabled:!0,children:"Select the Country First"}),xe.map((function(e){return Object(O.jsx)("option",{value:e.state_code,children:e.name})}))]},"state"),Object.keys(He).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:He[e]})}))]})]}),Object(O.jsxs)(h.U,{children:[Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" City:"}),Object(O.jsxs)(h.z,{value:Se.name,onChange:function(e){Ee(e.target.value)},children:[Object(O.jsx)("option",{disabled:!0,children:"Select the State First"}),Se.map((function(e){return Object(O.jsx)("option",{value:e.name,children:e.name})}))]},"city"),Object.keys(Qe).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Qe[e]})}))]}),Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:"Website Of School :"}),Object(O.jsx)(h.x,{id:"",placeholder:"Example ==> www.websiteofschool.com",value:P,onChange:function(e){_(e.target.value)}},"website"),Object.keys(jt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:jt[e]})}))]})]}),Object(O.jsx)(h.U,{children:Object(O.jsxs)(h.k,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.y,{children:" Upload Logo:"}),Object(O.jsx)(h.x,{type:"file",id:"",onChange:function(e){be(e.target.files[0].name),f(e.target.files[0])}},"logo")]})}),Object(O.jsx)(h.k,{children:Object(O.jsx)(h.v,{type:"checkbox",id:"gridCheck",label:"Allow Sharing of Learning Resources With Other Branches",value:1,onChange:function(e){Z(e.target.checked)}},"check")})]}),Object(O.jsx)(h.g,{children:Object(O.jsx)(h.U,{children:Object(O.jsxs)(h.k,{md:"3",children:[Object(O.jsxs)(h.d,{block:!0,color:"light",onClick:function(){return se(!re)},style:{float:"left"},children:[Object(O.jsx)(b.a,{icon:d.n})," Cancel"]}),Object(O.jsxs)(h.H,{visible:re,onDismiss:function(){return se(!1)},children:[Object(O.jsx)(h.K,{onDismiss:function(){return se(!1)},children:Object(O.jsx)(h.L,{children:"Cancel"})}),Object(O.jsx)(h.I,{children:"Do You Want To Cancel ?"}),Object(O.jsxs)(h.J,{children:[Object(O.jsxs)(h.d,{color:"light",onClick:function(){return se(!1)},children:[Object(O.jsx)(b.a,{icon:d.n})," No"]}),Object(O.jsx)(o.b,{to:"/",children:Object(O.jsxs)(h.d,{color:"dark",children:[Object(O.jsx)(b.a,{icon:d.c})," Yes"]})})]})]}),Object(O.jsxs)(h.d,{block:!0,color:"dark",type:"submit",style:{marginLeft:"15px"},disabled:!y||!c||!z||!G||!B||!w||!I,onClick:function(){return Nt(m)},children:[Object(O.jsx)(b.a,{icon:d.k})," Save"]})]})})})]})})})})}},550:function(e,t,c){var n=c(147).toast;e.exports=function(e,t){switch(e){case"info":n.info(t);break;case"success":n.success(t);break;case"warning":n.warn(t);break;case"error":n.error(t);break;case"dark":n.dark(t);break;default:n(t)}}},560:function(e,t,c){var n,r=c(550),s=c(590).default,a="";localStorage.getItem("user")&&(a=JSON.parse(localStorage.getItem("user")).token),""==a?(console.log("there isno token"),n=s.create({timeout:6e3,headers:{"Content-Type":"application/json"}})):n=s.create({timeout:6e3,headers:{"Content-Type":"application/json",authorization:"Bearer "+a}}),n.interceptors.response.use((function(e){return e}),(function(e){401===e.response.status?(localStorage.removeItem("user"),window.location="/#/login",console.log(e.response.data.message),r("error",e.response.data.message)):r("error",e.response.data.message)})),e.exports=n}}]);
//# sourceMappingURL=42.8ed48fba.chunk.js.map