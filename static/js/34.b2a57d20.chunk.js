(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[34],{1620:function(e,a,t){"use strict";t.r(a);var s=t(540),c=t.n(s),r=t(541),n=t(526),l=t(142),i=t(0),o=t(530),d=t(144),j=t(534),h=t(535),m=t(524),b=t(572),u=t(618),p=t(536),x=t(831),O=t(537),v=t(682),f=t.n(v),g=t(532),y=t.n(g),w=t(549),k=t.n(w),_=t(18),q={bucketName:"deveduveda1",dirName:"teacher_pics/"+ +new Date,region:"ap-south-1",accessKeyId:"AKIAZ6XP757OK2NV2CHZ",secretAccessKey:"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"};a.default=function(e){var a=e.match.params.school_id,t=Object(i.useState)([]),s=Object(n.a)(t,2),v=s[0],g=s[1],w=Object(i.useState)(!1),N=Object(n.a)(w,2),C=N[0],F=N[1],S=function(){setTimeout((function(){return F(!0)}),0)},T=function(){setTimeout((function(){return F(!1)}),0)},P=function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u.uploadFile)(a,q).then((function(e){return e.key})).catch((function(e){return console.error(e,"")})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){y.a.get("".concat("http://test.saakshar.co.in/api/v1","/sm/get-subjects-by-school/").concat(a)).then((function(e){var a=e.data.data.map((function(e){return{value:e.subject_id,text:e.subject_name}}));g(a)})).catch((function(e){console.log(e)}))}),[]);var A=[{text:"Male",value:"Male"},{text:"Female",value:"Female"},{text:"Other",value:"Other"}],U=b.b().shape({name:b.d().min(3,"Name must have at least 3 characters").max(500,"Name is too long").required("Name is required").matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field "),username:b.d().min(3,"Username must have at least 3 characters").max(15,"Username is too long").required("Username is required").matches(/^[^@#]*[a-zA-Z0-9_.]+$/,"Only 'a-z,A-Z,0-9,undescre and dot' are allowed for this field "),password:b.d().min(6,"Password must be at least 6 characters").max(15,"Password is too long").required("Password is required"),repassword:b.d().oneOf([b.c("password"),null],"Passwords must match"),dob:b.d(),gender:b.d(),email:b.d().email("Invalid email address"),phone:b.d(),emg_phone:b.d(),address:b.d(),classes:b.a().min(1).of(b.d().trim().required()),primary_subject:b.d().required("Primary subject is required")}),M=function(){var e=Object(r.a)(c.a.mark((function e(t,s){var n,l,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.resetForm,l=t.phone.replace(/ +/g,"").slice(3),i=t.emg_phone.replace(/ +/g,"").slice(3),""==t.picUp){e.next=11;break}return e.next=6,P(t.picUp);case 6:return o=e.sent,e.next=9,y.a.post("http://test.saakshar.co.in/api/v1/tm/create-teacher",{school_id:a,name:t.name,username:t.username,password:t.password,gender:t.gender,email:t.email,mobile:l,dob:t.dob,logo:o,pan:t.pan,aadhar:t.aadhar,emg_no:i,classes:t.classes,primary_sub:t.primary_subject,secondary_sub:t.secondary_subject,address:t.address}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({values:""}),k()("success",a.data.message);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){k()("error",e)}));case 9:e.next=14;break;case 11:return console.log("my api eduveda2"),e.next=14,y.a.post("http://test.saakshar.co.in/api/v1/tm/create-teacher",{school_id:a,name:t.name,username:t.username,password:t.password,gender:t.gender,email:t.email,mobile:l,dob:t.dob,logo:"",pan:t.pan,aadhar:t.aadhar,emg_no:i,classes:t.classes,primary_sub:t.primary_subject,secondary_sub:t.secondary_subject,address:t.address}).then(function(){var e=Object(r.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({values:""}),k()("success",a.data.message);case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()).catch((function(e){k()("error",e)}));case 14:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return Object(_.jsx)(l.h,{children:Object(_.jsx)(l.e,{className:"p-2",children:Object(_.jsxs)(l.f,{children:[Object(_.jsx)(l.U,{children:Object(_.jsx)(l.k,{children:Object(_.jsx)(o.a,{id:a})})}),Object(_.jsx)(l.U,{children:Object(_.jsx)(l.k,{md:"8",lg:"6",xl:"8",children:Object(_.jsx)("h5",{children:"Add Teacher"})})}),Object(_.jsx)("p",{className:"text-muted",children:"Register a Teacher"}),Object(_.jsx)(m.e,{initialValues:{name:"",username:"",password:"",repassword:"",dob:"",gender:"",pan:"",aadhar:"",pic:"",picUp:[],email:"",phone:"",emg_phone:"",address:"",classes:[],primary_subject:"",secondary_subject:""},validationSchema:U,onSubmit:M,children:function(e){return Object(_.jsxs)(m.d,{className:"row g-3",children:[Object(_.jsx)(l.U,{className:"mt-4",children:Object(_.jsx)(l.k,{md:12,children:Object(_.jsx)("h6",{children:"Basic Information"})})}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"name",className:"required-field",children:"Name"}),Object(_.jsx)(O.a,{control:"input",type:"text",name:"name",id:"name",value:e.values.name,placeholder:"Teacher Name"})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"username",className:"required-field",children:"Username"}),Object(_.jsx)(O.a,{control:"input",type:"username",name:"username",value:e.values.username,id:"username",placeholder:"Username"})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"password",className:"required-field",children:"Password"}),Object(_.jsx)(O.a,{control:"input",type:"password",name:"password",id:"password",value:e.values.password,placeholder:"Password"})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"repassword",className:"required-field",children:"Re-enter Password"}),Object(_.jsx)(O.a,{control:"input",type:"password",name:"repassword",value:e.values.repassword,id:"repassword",placeholder:"Re-enter Password"})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"dob",children:"Date of Birth"}),Object(_.jsx)(O.a,{control:"input",type:"date",name:"dob",id:"dob",value:e.values.dob,placeholder:"Date of Birth"})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"gender",children:"Gender"}),Object(_.jsx)("br",{}),Object(_.jsx)(O.a,{control:"radio",name:"gender",inline:!0,options:A})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"pan",children:"Pan"}),Object(_.jsx)(O.a,{control:"input",type:"text",name:"pan",id:"pan",value:e.values.pan,placeholder:"Pan"})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"aadhar",children:"Aadhar"}),Object(_.jsx)(O.a,{control:"input",type:"text",name:"aadhar",value:e.values.aadhar,id:"aadhar",placeholder:"Aadhar"})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"pic",children:"Profile Picture"}),Object(_.jsx)(O.a,{control:"input",type:"file",name:"pic",onChange:function(a){e.setFieldValue("picUp",a.target.files[0])}})]}),Object(_.jsx)(l.U,{className:"mt-4",children:Object(_.jsx)(l.k,{md:12,children:Object(_.jsx)("h6",{children:"Contact Information"})})}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"email",children:"Email"}),Object(_.jsx)(O.a,{control:"input",type:"email",name:"email",id:"email",value:e.values.email,placeholder:"Email"})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"phone",children:"Mobile"}),Object(_.jsx)(x.a,{control:"phone",name:"phone",id:"phone",value:e.values.phone,placeholder:"Mobile"})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"emg_phone",children:"Emergency Mobile"}),Object(_.jsx)(x.a,{control:"phone",name:"emg_phone",id:"emg_phone",value:e.values.emg_phone,placeholder:"Emergency Mobile"})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"phone",children:"Address"}),Object(_.jsx)(O.a,{control:"textarea",rows:1,name:"address",id:"address",value:e.values.address,placeholder:"Address"})]}),Object(_.jsx)(l.U,{className:"mt-4",children:Object(_.jsx)(l.k,{md:12,children:Object(_.jsx)("h6",{children:"Professional Information"})})}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"classes",className:"required-field",children:"Classes"}),Object(_.jsx)(O.a,{control:"multiselect",name:"classes",id:"classes",options:f.a,placeholder:"Select classes...",selectAll:!1})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"primary_subject",className:"required-field",children:"Primary Subject"}),Object(_.jsx)(O.a,{control:"selectwithkey",name:"primary_subject",id:"primary_subject",placeholder:"Select subject...",value:e.values.primary_subject,options:v||[]})]}),Object(_.jsxs)(l.k,{md:6,children:[Object(_.jsx)(l.y,{htmlFor:"secondary_subject",children:"Secondary Subject"}),Object(_.jsx)(O.a,{control:"selectwithkey",name:"secondary_subject",id:"secondary_subject",placeholder:"Select subject...",value:e.values.secondary_subject,options:v||[]})]}),Object(_.jsxs)(l.g,{children:[Object(_.jsxs)(l.d,{block:!0,color:"light",onClick:S,children:[Object(_.jsx)(h.a,{icon:j.o})," Cancel"]}),Object(_.jsx)(l.d,{block:!0,color:"dark",type:"submit",disabled:e.isSubmitting||!e.dirty||!e.isValid,style:{marginLeft:"15px"},children:e.isSubmitting?Object(_.jsx)(p.a,{}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(h.a,{icon:j.l})," Save"]})})]}),Object(_.jsxs)(l.H,{visible:C,onDismiss:T,children:[Object(_.jsx)(l.K,{onDismiss:T,children:Object(_.jsx)(l.L,{children:Object(_.jsx)("h5",{children:"Cancel"})})}),Object(_.jsx)(l.I,{children:"Do You Want To Cancel ?"}),Object(_.jsxs)(l.J,{children:[Object(_.jsxs)(l.d,{color:"light",onClick:T,children:[Object(_.jsx)(h.a,{icon:j.o})," No"]}),Object(_.jsx)(d.b,{to:"/",children:Object(_.jsxs)(l.d,{color:"dark",children:[Object(_.jsx)(h.a,{icon:j.d})," Yes"]})})]})]})]})}})]})})})}},530:function(e,a,t){"use strict";var s=t(526),c=t(0),r=t(142),n=t(18);a.a=function(e){var a=e.id,t=Object(c.useState)(!1),l=Object(s.a)(t,2),i=l[0],o=l[1];return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(r.R,{expand:"",colorScheme:"light",className:"bg-secondry",style:{float:"right"},children:Object(n.jsxs)(r.m,{fluid:!0,children:[Object(n.jsx)(r.T,{onClick:function(){return o(!i)}}),Object(n.jsx)(r.l,{className:"navbar-collapse",visible:i,children:Object(n.jsxs)(r.S,{children:[Object(n.jsx)("a",{color:"secondary",className:"btn btn-default",href:"/#/school-management/get-users/".concat(a),children:"User Management"}),Object(n.jsxs)(r.n,{variant:"nav-item",popper:!1,children:[Object(n.jsx)(r.s,{color:"secondary",children:"Class Management"}),Object(n.jsxs)(r.r,{children:[Object(n.jsx)(r.q,{href:"/#/class-management/create-classes/".concat(a),children:"Create/Edit Classes"}),Object(n.jsx)(r.q,{href:"/#/class-management/view-classes/".concat(a),children:"View Classes"}),Object(n.jsx)(r.q,{href:"/#/class-management/create-sections/".concat(a),children:"Create Sections"}),Object(n.jsx)(r.q,{href:"/#/class-management/manage-sections/".concat(a),children:"Manage Sections"}),Object(n.jsx)(r.q,{href:"/#/class-management/class-mapping/".concat(a),children:"Class Mapping"})]})]}),Object(n.jsxs)(r.n,{variant:"nav-item",popper:!1,children:[Object(n.jsx)(r.s,{color:"secondary",children:"Subject Management"}),Object(n.jsx)(r.r,{children:Object(n.jsx)(r.q,{href:"/#/school-management/normal-school/all-subjects/".concat(a),children:"Assign Subject To Class"})})]}),Object(n.jsxs)(r.n,{variant:"nav-item",popper:!1,children:[Object(n.jsx)(r.s,{color:"secondary",children:"Teacher Management"}),Object(n.jsxs)(r.r,{children:[Object(n.jsx)(r.q,{href:"/#/teacher-management/add-teacher/".concat(a),children:"Add Teacher"}),Object(n.jsx)(r.q,{href:"/#/teacher-management/get-teachers/".concat(a),children:"All Teachers"})]})]}),Object(n.jsxs)(r.n,{variant:"nav-item",popper:!1,children:[Object(n.jsx)(r.s,{color:"secondary",children:"Lesson Planning"}),Object(n.jsx)(r.r,{children:Object(n.jsx)(r.q,{href:"/#/lesson-management/get-subjects/".concat(a),children:"Annual Lesson Plan"})})]}),Object(n.jsxs)(r.n,{variant:"nav-item",popper:!1,children:[Object(n.jsx)(r.s,{color:"secondary",children:"Calender Management"}),Object(n.jsxs)(r.r,{children:[Object(n.jsx)(r.q,{href:"/#/calender-management/add-holiday/".concat(a),children:"Add Holiday"}),Object(n.jsx)(r.q,{href:"/#/calender-management/view-calender/".concat(a),children:"View Calender"})]})]}),Object(n.jsxs)(r.n,{variant:"nav-item",popper:!1,children:[Object(n.jsx)(r.s,{color:"secondary",children:"Time Table"}),Object(n.jsxs)(r.r,{children:[Object(n.jsx)(r.q,{href:"/#/time-table-management/step-1/".concat(a),children:"Time Table (Initialization)"}),Object(n.jsx)(r.q,{href:"/#/time-table-management/time-table-list/".concat(a),children:"Time Table List"}),Object(n.jsx)(r.q,{href:"/#/time-table-management/step-2/".concat(a),children:"General Constraints"}),Object(n.jsx)(r.q,{href:"/#/time-table-management/step-2/".concat(a),children:"Class Constraints"}),Object(n.jsx)(r.q,{href:"/#/time-table-management/create-time-table-admin/".concat(a),children:"Generate Time Table (Admin)"}),Object(n.jsx)(r.q,{href:"/#/time-table-management/generate-time-table-school/".concat(a),children:"Generate Time Table (School)"})]})]})]})})]})})})}},682:function(e,a){e.exports=[{text:"Nursery",value:"Nursery"},{text:"LKG",value:"LKG"},{text:"UKG",value:"UKG"},{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"},{text:"4",value:"4"},{text:"5",value:"5"},{text:"6",value:"6"},{text:"7",value:"7"},{text:"8",value:"8"},{text:"9",value:"9"},{text:"10",value:"10"},{text:"11",value:"11"},{text:"12",value:"12"}]}}]);
//# sourceMappingURL=34.b2a57d20.chunk.js.map