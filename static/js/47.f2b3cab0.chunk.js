(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[47],{1583:function(e,t,s){"use strict";s.r(t);var a=s(573),r=s.n(a),c=s(574),n=s(550),i=s(0),o=s(554),l=s.n(o),d=s(145),u=s(142),j=s(584),h=s(589),m=s(528),b=s(693),x=s(864),p=s(591),O=s(1042),f=s(593),v=s(18),w={bucketName:"deveduveda1",dirName:"school_logos/"+ +new Date,region:"ap-south-1",accessKeyId:"AKIAZ6XP757OK2NV2CHZ",secretAccessKey:"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"};t.default=function(e){var t=Object(i.useState)([]),s=Object(n.a)(t,2),a=s[0],o=s[1],g=Object(i.useState)([]),y=Object(n.a)(g,2),q=y[0],S=y[1],N=Object(i.useState)([]),k=Object(n.a)(N,2),F=k[0],C=k[1],P=Object(i.useState)(""),A=Object(n.a)(P,2),E=A[0],V=A[1],L=Object(i.useState)(""),T=Object(n.a)(L,2),U=T[0],I=T[1],K=Object(i.useState)(!1),R=Object(n.a)(K,2),Z=R[0],_=R[1];Object(i.useEffect)((function(){l.a.get("http://test.saakshar.co.in/api/v1/auth/get-countries").then((function(e){var t=e.data.data.map((function(e){return{value:e.country_code,text:e.name}}));o(t)})).catch((function(e){console.log(e)}))}),[]),Object(i.useEffect)((function(){""!=E&&l.a.get("http://test.saakshar.co.in/api/v1"+"/auth/get-states/".concat(E)).then((function(e){var t=e.data.data.map((function(e){return{value:e.state_code,text:e.name}}));S(t)})).catch((function(e){console.log(e)}))}),[E]),Object(i.useEffect)((function(){""!=E&&""!=U&&l.a.get("http://test.saakshar.co.in/api/v1"+"/auth/get-cities/".concat(E,"/").concat(U)).then((function(e){var t=e.data.data.map((function(e){return{value:e.name,text:e.name}}));C(t)})).catch((function(e){console.log(e)}))}),[U]);var z=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(x.uploadFile)(t,w).then((function(e){return console.log(e,"Logo uploaded successfully")})).catch((function(e){return console.error(e,"")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){setTimeout((function(){return _(!0)}),0)},J=function(){setTimeout((function(){return _(!1)}),0)},M=b.b().shape({name:b.d().min(3,"Name must have at least 3 characters").max(15,"Name is too long").required("Name is required").matches(/^[aA-zZ\s]+$/,"Only alphabets are allowed for this field "),username:b.d().min(3,"Username must have at least 3 characters").max(15,"Username is too long").required("Username is required").matches(/^[^@#]*[a-zA-Z0-9_.]+$/,"Only 'a-z,A-Z,0-9,undescre and dot' are allowed for this field "),email:b.d().email("Invalid email address").required("Email is required"),phone:b.d().test("len","Invalid phone number.",(function(e){return 16===(e?e.replace(/-|_/g,"").length:"")})).required("Phone is required"),country:b.d().required("Country name is required"),state:b.d().required("State name is required"),city:b.d().required("City name is required"),pin:b.d().required("Pincode is required"),address:b.d().required("Address is required"),password:b.d().min(6,"Password must be at least 6 characters").max(15,"Password is too long").required("Password is required"),repassword:b.d().oneOf([b.c("password"),null],"Passwords must match")}),W=function(){var e=Object(c.a)(r.a.mark((function e(t,s){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.resetForm,e.next=3,z(t.logoVal);case 3:console.log("Form Values",t),a({values:""});case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return Object(v.jsx)(u.h,{children:Object(v.jsx)(u.e,{className:"p-2",children:Object(v.jsxs)(u.f,{children:[Object(v.jsx)(u.T,{children:Object(v.jsx)(u.j,{md:"8",lg:"6",xl:"8",children:Object(v.jsx)("h5",{children:"Create Chain School"})})}),Object(v.jsx)("p",{className:"text-muted",children:"Register a Chain School"}),Object(v.jsx)(m.e,{initialValues:{name:"",username:"",password:"",repassword:"",email:"",phone:"",address:"",pin:"",country:"",state:"",city:"",website:"",logo:"",logoVal:[],resource:[]},validationSchema:M,onSubmit:W,children:function(e){return Object(v.jsxs)(m.d,{className:"row g-3",children:[Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"name",className:"required-field",children:"School Name"}),Object(v.jsx)(f.a,{control:"input",type:"text",name:"name",id:"name",value:e.values.name,placeholder:"School Name"})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"username",className:"required-field",children:"Username"}),Object(v.jsx)(f.a,{control:"input",type:"username",name:"username",id:"username",value:e.values.username,placeholder:"Username"})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"password",className:"required-field",children:"Password"}),Object(v.jsx)(f.a,{control:"input",type:"password",name:"password",id:"password",value:e.values.password,placeholder:"Password"})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"repassword",className:"required-field",children:"Re-enter Password"}),Object(v.jsx)(f.a,{control:"input",type:"password",name:"repassword",value:e.values.repassword,id:"repassword",placeholder:"Re-enter Password"})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"email",className:"required-field",children:"Email"}),Object(v.jsx)(f.a,{control:"input",type:"email",name:"email",id:"email",value:e.values.email,placeholder:"Email"})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"phone",className:"required-field",children:"Mobile"}),Object(v.jsx)(O.a,{control:"phone",name:"phone",id:"phone",value:e.values.phone,placeholder:"Mobile"})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"address",className:"required-field",children:"Address"}),Object(v.jsx)(f.a,{control:"textarea",name:"address",id:"address",placeholder:"Address",value:e.values.address,rows:"1"})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"pin",className:"required-field",children:"Pincode"}),Object(v.jsx)(O.a,{control:"pincode",name:"pin",id:"pin",value:e.values.pin,placeholder:"Pincode"})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"country",className:"required-field",children:"Country"}),Object(v.jsx)(f.a,{control:"selectwithkey",name:"country",id:"country",placeholder:"Select country...",onChange:(s=e.values.country,void setTimeout((function(){return V(s)}),0)),value:e.values.country,options:a})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"state",className:"required-field",children:"State"}),Object(v.jsx)(f.a,{control:"selectwithkey",name:"state",id:"state",placeholder:"Select state...",value:e.values.state,onChange:(t=e.values.state,void setTimeout((function(){return I(t)}),0)),options:q})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"city",className:"required-field",children:"City"}),Object(v.jsx)(f.a,{control:"selectwithkey",name:"city",id:"city",value:e.values.city,options:F,placeholder:"Select city..."})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"website",children:"Website Of School"}),Object(v.jsx)(f.a,{control:"input",type:"text",name:"website",value:e.values.website,id:"website",placeholder:"Example ==> www.websiteofschool.com"})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"logo",children:"School Logo"}),Object(v.jsx)(f.a,{control:"input",type:"file",name:"logo",id:"logo",onChange:function(t){e.setFieldValue("logoVal",t.target.files[0])}})]}),Object(v.jsxs)(u.j,{md:6,children:[Object(v.jsx)(u.x,{htmlFor:"resource",children:"Share Resource"}),Object(v.jsx)(f.a,{control:"checkbox",name:"resource",value:e.values.resource,id:"resource",options:[{text:"Allow Sharing of Learning Resources With Other Branches",value:"1"}]})]}),Object(v.jsxs)(u.g,{children:[Object(v.jsxs)(u.d,{block:!0,color:"light",onClick:D,children:[Object(v.jsx)(h.a,{icon:j.n})," Cancel"]}),Object(v.jsx)(u.d,{block:!0,color:"dark",type:"submit",disabled:e.isSubmitting||!e.dirty||!e.isValid,style:{marginLeft:"15px"},children:e.isSubmitting?Object(v.jsx)(p.a,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(h.a,{icon:j.k})," Save"]})})]}),Object(v.jsxs)(u.G,{visible:Z,onDismiss:J,children:[Object(v.jsx)(u.J,{onDismiss:J,children:Object(v.jsx)(u.K,{children:Object(v.jsx)("h5",{children:"Cancel"})})}),Object(v.jsx)(u.H,{children:"Do You Want To Cancel ?"}),Object(v.jsxs)(u.I,{children:[Object(v.jsxs)(u.d,{color:"light",onClick:J,children:[Object(v.jsx)(h.a,{icon:j.n})," No"]}),Object(v.jsx)(d.b,{to:"/",children:Object(v.jsxs)(u.d,{color:"dark",children:[Object(v.jsx)(h.a,{icon:j.c})," Yes"]})})]})]})]});var t,s}})]})})})}}}]);
//# sourceMappingURL=47.f2b3cab0.chunk.js.map