{"version":3,"sources":["../node_modules/tiny-warning/dist/tiny-warning.esm.js","views/ev_super_admin/school_management/all-normal-schools/all-normal-schools.js","helpers/notify.js","helpers/edu_axios.js"],"names":["warning","condition","message","ManageSchool","history","useHistory","title","data","query","Promise","resolve","reject","url","process","page","pageSize","EDU_AXIOS","get","then","resp","console","log","totalCount","total_count","catch","error","columns","field","onSelectionChange","rows","setSelectedRows","options","search","paging","filtering","exportButton","actionsColumnIndex","rowStyle","x","tableData","id","backgroundColor","emptyRowsWhenPaging","pageSizeOptions","actions","icon","faEye","style","fontSize","tooltip","onClick","event","rowData","push","faEdit","toast","require","module","exports","type","info","success","warn","dark","notify","axios","default","token","localStorage","getItem","JSON","parse","create","timeout","headers","authorization","interceptors","response","use","status","removeItem","window","location"],"mappings":"2LAmBeA,IAlBf,SAAiBC,EAAWC,M,kCCD5B,+FAqGeC,UA7Ff,WACE,IAAIC,EAAUC,cAuBd,OACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CACEC,MAAM,kBACNC,KAAM,SAACC,GAAD,OACJ,IAAIC,SAAQ,SAACC,EAASC,GACpB,IAAIC,EACFC,6DACFD,GAAG,gBAAaJ,EAAMM,KAAO,GAC7BF,GAAG,kBAAeJ,EAAMO,UACxBC,IAAUC,IAAIL,GACXM,MAAK,SAACC,GACLC,QAAQC,IAAI,WAAYF,GACxBT,EAAQ,CACNH,KAAMY,EAAKZ,KAAKA,KAChBO,KAAMN,EAAMM,KACZQ,WAAYH,EAAKZ,KAAKgB,iBAIzBC,OAAM,SAACC,GACNL,QAAQC,IAAII,UAIpBC,QAhDQ,CACd,CACEpB,MAAO,OACPqB,MAAO,QAET,CACErB,MAAO,WACPqB,MAAO,YAET,CACErB,MAAO,QACPqB,MAAO,SAET,CACErB,MAAO,gBACPqB,MAAO,iBAET,CACErB,MAAO,cACPqB,MAAO,gBA8BHC,kBAAmB,SAACC,GAAD,OAAUC,gBAAgBD,IAC7CE,QAAS,CACPC,QAAQ,EACRC,QAAQ,EACRC,WAAW,EACXC,cAAc,EACdC,mBAAoB,EACpBC,SAAU,SAACC,GACT,GAAIA,EAAEC,UAAUC,GAAK,EACnB,MAAO,CAAEC,gBAAiB,YAG9B1B,SAAU,GACV2B,qBAAqB,EACrBC,gBAAiB,CAAC,GAAI,GAAI,KAE5BC,QAAS,CACP,CACEC,KAAM,kBACJ,cAAC,IAAD,CAAiBA,KAAMC,IAAOC,MAAO,CAAEC,SAAU,WAEnDC,QAAS,cACT3C,MAAO,OACP4C,QAAS,SAACC,EAAOC,GAAR,OACPhD,EAAQiD,KAAR,wBAA8BD,EAAQZ,OAE1C,CACEK,KAAM,kBACJ,cAAC,IAAD,CAAiBA,KAAMS,IAAQP,MAAO,CAAEC,SAAU,WAEpDC,QAAS,cACT3C,MAAO,OACP4C,QAAS,SAACC,EAAOC,GAAR,OACPhD,EAAQiD,KAAR,wBAA8BD,EAAQZ,gB,oBC5FtD,IAAMe,EAAUC,EAAQ,KAAlBD,MAwBNE,EAAOC,QAtBQ,SAACC,EAAMzD,GACpB,OAAQyD,GACN,IAAK,OACHJ,EAAMK,KAAK1D,GACX,MACF,IAAK,UACHqD,EAAMM,QAAQ3D,GACd,MACF,IAAK,UACHqD,EAAMO,KAAK5D,GACX,MACF,IAAK,QACHqD,EAAM9B,MAAMvB,GACZ,MACF,IAAK,OACHqD,EAAMQ,KAAK7D,GACX,MACF,QACEqD,EAAMrD,M,oBCpBZ,IAEIc,EAFEgD,EAASR,EAAQ,KACjBS,EAAQT,EAAQ,KAASU,QAE3BC,EAAQ,GAEDC,aAAaC,QAAQ,UAE9BF,EAAQG,KAAKC,MAAMH,aAAaC,QAAQ,SAASF,OA4BpC,IAATA,GACF/C,QAAQC,IAAI,oBACZL,EAAYiD,EAAMO,OAAO,CACvBC,QAAS,IACTC,QAAS,CACP,eAAgB,uBAIpB1D,EAAYiD,EAAMO,OAAO,CACvBC,QAAS,IACTC,QAAS,CACP,eAAgB,mBAChBC,cAAe,UAAYR,KAQjCnD,EAAU4D,aAAaC,SAASC,KAC9B,SAACD,GAAD,OAAcA,KACd,SAACpD,GAC+B,MAA1BA,EAAMoD,SAASE,QACjBX,aAAaY,WAAW,QACxBC,OAAOC,SAAW,WAClB9D,QAAQC,IAAII,EAAMoD,SAAStE,KAAKL,SAChC8D,EAAO,QAASvC,EAAMoD,SAAStE,KAAKL,UAEpC8D,EAAO,QAASvC,EAAMoD,SAAStE,KAAKL,YAM5CuD,EAAOC,QAAU1C","file":"static/js/36.e19db470.chunk.js","sourcesContent":["var isProduction = process.env.NODE_ENV === 'production';\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;\n","import React from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport { CCard, CCardBody } from \"@coreui/react-pro\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { faEdit, faEye } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport EDU_AXIOS from \"src/helpers/edu_axios\";\r\n\r\nfunction ManageSchool() {\r\n  let history = useHistory();\r\n  const columns = [\r\n    {\r\n      title: \"Name\",\r\n      field: \"name\",\r\n    },\r\n    {\r\n      title: \"Username\",\r\n      field: \"username\",\r\n    },\r\n    {\r\n      title: \"Email\",\r\n      field: \"email\",\r\n    },\r\n    {\r\n      title: \"License Start\",\r\n      field: \"license_start\",\r\n    },\r\n    {\r\n      title: \"License End\",\r\n      field: \"license_end\",\r\n    },\r\n  ];\r\n  return (\r\n    <CCard>\r\n      <CCardBody>\r\n        <MaterialTable\r\n          title=\"Normal Schools \"\r\n          data={(query) =>\r\n            new Promise((resolve, reject) => {\r\n              let url =\r\n                process.env.REACT_APP_API_PATH + \"/auth/get-normal-schools?\";\r\n              url += `page= ${query.page + 1}`;\r\n              url += `&limit= ${query.pageSize}`;\r\n              EDU_AXIOS.get(url)\r\n                .then((resp) => {\r\n                  console.log(\"Response\", resp);\r\n                  resolve({\r\n                    data: resp.data.data, // your data array\r\n                    page: query.page, // current page number\r\n                    totalCount: resp.data.total_count, // total row number\r\n                  });\r\n                })\r\n\r\n                .catch((error) => {\r\n                  console.log(error);\r\n                });\r\n            })\r\n          }\r\n          columns={columns}\r\n          onSelectionChange={(rows) => setSelectedRows(rows)}\r\n          options={{\r\n            search: true,\r\n            paging: true,\r\n            filtering: false,\r\n            exportButton: true,\r\n            actionsColumnIndex: 6,\r\n            rowStyle: (x) => {\r\n              if (x.tableData.id % 2) {\r\n                return { backgroundColor: \"#f9f9f9\" };\r\n              }\r\n            },\r\n            pageSize: 20,\r\n            emptyRowsWhenPaging: true,\r\n            pageSizeOptions: [20, 40, 60],\r\n          }}\r\n          actions={[\r\n            {\r\n              icon: () => (\r\n                <FontAwesomeIcon icon={faEye} style={{ fontSize: \"1rem\" }} />\r\n              ),\r\n              tooltip: \"View School\",\r\n              title: \"View\",\r\n              onClick: (event, rowData) =>\r\n                history.push(`normal-school/${rowData.id}`),\r\n            },\r\n            {\r\n              icon: () => (\r\n                <FontAwesomeIcon icon={faEdit} style={{ fontSize: \"1rem\" }} />\r\n              ),\r\n              tooltip: \"View School\",\r\n              title: \"View\",\r\n              onClick: (event, rowData) =>\r\n                history.push(`normal-school/${rowData.id}`),\r\n            },\r\n          ]}\r\n        />\r\n      </CCardBody>\r\n    </CCard>\r\n  );\r\n}\r\n\r\nexport default ManageSchool;\r\n","let { toast } = require(\"react-toastify\");\r\n\r\nconst notify = (type, message) => {\r\n  switch (type) {\r\n    case \"info\":\r\n      toast.info(message);\r\n      break;\r\n    case \"success\":\r\n      toast.success(message);\r\n      break;\r\n    case \"warning\":\r\n      toast.warn(message);\r\n      break;\r\n    case \"error\":\r\n      toast.error(message);\r\n      break;\r\n    case \"dark\":\r\n      toast.dark(message);\r\n      break;\r\n    default:\r\n      toast(message);\r\n  }\r\n};\r\n\r\nmodule.exports = notify;\r\n","const notify = require(\"./notify\");\r\nconst axios = require(\"axios\").default;\r\nlet EDU_AXIOS;\r\nlet token = \"\";\r\n// to set authorization header on test mode\r\nlet user = localStorage.getItem(\"user\");\r\nif (user) {\r\n  token = JSON.parse(localStorage.getItem(\"user\")).token;\r\n}\r\nif (process.env.REACT_APP_APP_ENV == \"production\") {\r\n  EDU_AXIOS = axios.create({\r\n    timeout: 6000,\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  /**\r\n   * Catch the AunAuthorized Request\r\n   */\r\n  EDU_AXIOS.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n      if (error.response.status === 401) {\r\n        localStorage.removeItem(\"user\");\r\n        window.location = \"/#/login\";\r\n        notify(\"error\", error.response.message);\r\n      } else {\r\n        notify(\"error\", error.response.message);\r\n      }\r\n    }\r\n  );\r\n}\r\nif (process.env.REACT_APP_APP_ENV == \"test\") {\r\n  if (token == \"\") {\r\n    console.log(\"there isno token\");\r\n    EDU_AXIOS = axios.create({\r\n      timeout: 6000,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  } else {\r\n    EDU_AXIOS = axios.create({\r\n      timeout: 6000,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + token,\r\n      },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Catch the AunAuthorized Request\r\n   */\r\n  EDU_AXIOS.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n      if (error.response.status === 401) {\r\n        localStorage.removeItem(\"user\");\r\n        window.location = \"/#/login\";\r\n        console.log(error.response.data.message);\r\n        notify(\"error\", error.response.data.message);\r\n      } else {\r\n        notify(\"error\", error.response.data.message);\r\n      }\r\n    }\r\n  );\r\n}\r\n\r\nmodule.exports = EDU_AXIOS;\r\n"],"sourceRoot":""}