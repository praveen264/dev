(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[32],{1595:function(e,t,c){"use strict";c.r(t);var n=c(580),r=c.n(n),a=c(581),s=c(543),o=c(0),i=c(145),l=c(925),j=c(555),u=c.n(j),d=c(589),b=c(588),h=c(142),O=c(18),x={bucketName:"deveduveda1",dirName:"school_logos",region:"ap-south-1",accessKeyId:"AKIAZ6XP757OK2NV2CHZ",secretAccessKey:"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"};t.default=function(){var e=Object(o.useState)(""),t=Object(s.a)(e,2),c=t[0],n=t[1],j=Object(o.useState)(""),f=Object(s.a)(j,2),m=f[0],p=f[1],g=Object(o.useState)(""),v=Object(s.a)(g,2),y=v[0],S=v[1],k=Object(o.useState)(""),w=Object(s.a)(k,2),C=w[0],I=w[1],N=Object(o.useState)(""),q=Object(s.a)(N,2),D=q[0],T=q[1],A=Object(o.useState)(""),E=Object(s.a)(A,2),R=E[0],P=E[1],U=Object(o.useState)(""),_=Object(s.a)(U,2),L=_[0],M=_[1],K=Object(o.useState)(""),z=Object(s.a)(K,2),J=z[0],B=z[1],F=Object(o.useState)(0),W=Object(s.a)(F,2),Y=W[0],Z=W[1],G=Object(o.useState)(""),H=Object(s.a)(G,2),V=H[0],X=H[1],$=Object(o.useState)(""),Q=Object(s.a)($,2),ee=Q[0],te=Q[1],ce=Object(o.useState)(!1),ne=Object(s.a)(ce,2),re=ne[0],ae=ne[1],se=Object(o.useState)([]),oe=Object(s.a)(se,2),ie=oe[0],le=oe[1],je=Object(o.useState)(""),ue=Object(s.a)(je,2),de=ue[0],be=ue[1],he=Object(o.useState)([]),Oe=Object(s.a)(he,2),xe=Oe[0],fe=Oe[1],me=Object(o.useState)(),pe=Object(s.a)(me,2),ge=pe[0],ve=pe[1],ye=Object(o.useState)([]),Se=Object(s.a)(ye,2),ke=Se[0],we=Se[1],Ce=Object(o.useState)(),Ie=Object(s.a)(Ce,2),Ne=Ie[0],qe=Ie[1],De=Object(o.useState)(),Te=Object(s.a)(De,2),Ae=Te[0],Ee=Te[1],Re=Object(o.useState)({}),Pe=Object(s.a)(Re,2),Ue=Pe[0],_e=Pe[1],Le=Object(o.useState)({}),Me=Object(s.a)(Le,2),Ke=Me[0],ze=Me[1],Je=Object(o.useState)({}),Be=Object(s.a)(Je,2),Fe=Be[0],We=Be[1],Ye=Object(o.useState)({}),Ze=Object(s.a)(Ye,2),Ge=Ze[0],He=Ze[1],Ve=Object(o.useState)({}),Xe=Object(s.a)(Ve,2),$e=Xe[0],Qe=Xe[1],et=Object(o.useState)({}),tt=Object(s.a)(et,2),ct=tt[0],nt=tt[1],rt=Object(o.useState)({}),at=Object(s.a)(rt,2),st=at[0],ot=at[1],it=Object(o.useState)({}),lt=Object(s.a)(it,2),jt=lt[0],ut=lt[1],dt=Object(o.useState)({}),bt=Object(s.a)(dt,2),ht=bt[0],Ot=bt[1],xt=Object(o.useState)({}),ft=Object(s.a)(xt,2),mt=ft[0],pt=ft[1],gt=Object(o.useState)({}),vt=Object(s.a)(gt,2),yt=vt[0],St=vt[1],kt=Object(o.useState)({}),wt=Object(s.a)(kt,2),Ct=wt[0],It=wt[1];Object(o.useEffect)((function(){u.a.get("http://test.saakshar.co.in/api/v1/auth/get-countries").then((function(e){var t=e.data.data;le(t)})).catch((function(e){console.log(e)}))}),[]);Object(o.useEffect)((function(){u.a.get("http://test.saakshar.co.in/api/v1"+"/auth/get-states/".concat(ge)).then((function(e){var t=e.data.data;fe(t)})).catch((function(e){console.log(e)}))}),[ge]),Object(o.useEffect)((function(){u.a.get("http://test.saakshar.co.in/api/v1"+"/auth/get-cities/".concat(ge,"/").concat(Ne)).then((function(e){var t=e.data.data;we(t)})).catch((function(e){console.log(e)}))}),[Ne]);var Nt=function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(l.uploadFile)(t,x).then((function(e){return console.log(e,"Logo uploaded successfully")})).catch((function(e){return console.error(e,"")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Dt()){e.next=6;break}return e.next=5,u.a.post("http://test.saakshar.co.in/api/v1/auth/create-chain-school",{name:y,username:c,password:V,email:L,mobile:J,address:C,pin_code:D,state:Ne,city:Ae,website:R,other_details:"a",logo:de,share_resources:Y}).then(function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t.data.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e={},t={},n={},r={},a={},s={},o={},i={},l=!0;return c.trim()?(/[^a-zA-Z0-9_.]/.test(c)||c.trim().length<6)&&(e.UserIDinvalid="UserID is Invalid (@ , # not suppourted) / < 6 Digits",l=!1):e.UserIDrequired="Required",y.trim()||(t.schoolNameShort=" Required",l=!1),D.trim()?(!/[123456789][0-9]{5}/.test(D)||D.trim().length>6)&&(n.pinshort="PIN should be 6 Digits only / PIN Can't Start with 0",l=!1):(n.pinreq=" Required",l=!1),C.trim()||(i.addressShort=" Required",l=!1),L.trim()?/\S+@\S+\.\S+/.test(L)||(r.emailinvalid="Email address is invalid",l=!1):(r.emailrequired="Required",l=!1),J.trim()?(J.trim().length>10||!/[6789][0-9]{9}/.test(J))&&(a.mobshort="Mobile number must be Valid & of 10 Digits Only",l=!1):(a.mobreq=" Required",l=!1),V.trim()?(V.trim().length<6||V.trim().length>20)&&(s.passshort="Invalid / < 6 Digits",l=!1):(s.passreq=" Required",l=!1),ee.trim()?ee!==V&&(o.pass2short="Doesn't Match ",l=!1):(s.pass2req="",l=!1),_e(e),ze(t),We(n),ut({}),Ot(r),pt(a),St(s),It(o),Qe({}),He({}),nt({}),ot(i),l};return Object(O.jsx)("form",{onSubmit:qt,children:Object(O.jsx)(h.T,{className:"justify-content-center",children:Object(O.jsx)(h.j,{children:Object(O.jsxs)(h.e,{children:[Object(O.jsxs)(h.f,{children:[Object(O.jsx)(h.T,{children:Object(O.jsx)(h.j,{md:"8",lg:"6",xl:"8",children:Object(O.jsx)("h5",{children:"Create Chain School"})})}),Object(O.jsx)("p",{className:"text-muted",children:"Register a Chain School"}),Object(O.jsxs)(h.T,{children:[Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{className:"required-field",children:"Chain School Name"}),Object(O.jsx)(h.w,{id:"school_name",placeholder:"Name of School",value:y,onChange:function(e){S(e.target.value)}},"schoolname"),Object.keys(Ke).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Ke[e]})}))]}),Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:"User Name :"}),Object(O.jsx)(h.w,{id:"school_name",placeholder:"Unique User Name",value:c,onChange:function(e){n(e.target.value)}},"username"),Object.keys(Ue).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Ue[e]})}))]})]}),Object(O.jsxs)(h.T,{children:[Object(O.jsxs)(h.j,{children:[Object(O.jsx)(h.x,{children:" Password :"}),Object(O.jsx)(h.w,{id:"",type:"password",value:V,onChange:function(e){X(e.target.value)}},"password"),Object.keys(yt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:yt[e]})}))]}),Object(O.jsxs)(h.j,{children:[Object(O.jsx)(h.x,{children:" Re-Enter Password :"}),Object(O.jsx)(h.w,{id:"",type:"password",value:ee,onChange:function(e){te(e.target.value)}},"re-password"),Object.keys(Ct).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Ct[e]})}))]})]}),Object(O.jsxs)(h.T,{children:[Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:"Email ID :"}),Object(O.jsx)(h.w,{id:"",placeholder:"School Email ID",value:L,onChange:function(e){M(e.target.value)}},"email"),Object.keys(ht).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:ht[e]})}))]}),Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" Mobile :"}),Object(O.jsx)(h.w,{id:"",placeholder:" Mobile Number",type:"number",value:J,onChange:function(e){B(e.target.value)}},"mobile"),Object.keys(mt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:mt[e]})}))]})]}),Object(O.jsxs)(h.T,{children:[Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" School Address:"}),Object(O.jsx)(h.z,{id:"",placeholder:"Address of Your School",rows:"1",value:C,onChange:function(e){I(e.target.value)}},"address"),Object.keys(st).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:st[e]})}))]}),Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" Pin:"}),Object(O.jsx)(h.w,{id:"pin",type:"number",placeholder:"Pin Code",value:D,onChange:function(e){T(e.target.value)}},"pin"),Object.keys(Fe).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Fe[e]})}))]})]}),Object(O.jsxs)(h.T,{children:[Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" Country:"}),Object(O.jsxs)(h.y,{value:ie.name,onChange:function(e){var t=e.target.value;ve(t)},children:[Object(O.jsx)("option",{children:"Select the Country"}),ie.map((function(e){return Object(O.jsx)("option",{value:e.country_code,children:e.name})}))]},"country"),Object.keys(ct).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:ct[e]})}))]}),Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" State:"}),Object(O.jsxs)(h.y,{value:xe.name,onChange:function(e){qe(e.target.value)},children:[Object(O.jsx)("option",{disabled:!0,children:"Select the Country First"}),xe.map((function(e){return Object(O.jsx)("option",{value:e.state_code,children:e.name})}))]},"state"),Object.keys(Ge).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Ge[e]})}))]})]}),Object(O.jsxs)(h.T,{children:[Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" City:"}),Object(O.jsxs)(h.y,{value:ke.name,onChange:function(e){Ee(e.target.value)},children:[Object(O.jsx)("option",{disabled:!0,children:"Select the State First"}),ke.map((function(e){return Object(O.jsx)("option",{value:e.name,children:e.name})}))]},"city"),Object.keys($e).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:$e[e]})}))]}),Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:"Website Of School :"}),Object(O.jsx)(h.w,{id:"",placeholder:"Example ==> www.websiteofschool.com",value:R,onChange:function(e){P(e.target.value)}},"website"),Object.keys(jt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:jt[e]})}))]})]}),Object(O.jsx)(h.T,{children:Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" Upload Logo:"}),Object(O.jsx)(h.w,{type:"file",id:"",onChange:function(e){be(e.target.files[0].name),p(e.target.files[0])}},"logo")]})}),Object(O.jsx)(h.j,{children:Object(O.jsx)(h.u,{type:"checkbox",id:"gridCheck",label:"Allow Sharing of Learning Resources With Other Branches",value:1,onChange:function(e){Z(e.target.checked)}},"check")})]}),Object(O.jsx)(h.g,{children:Object(O.jsx)(h.T,{children:Object(O.jsxs)(h.j,{md:"3",children:[Object(O.jsxs)(h.d,{block:!0,color:"light",onClick:function(){return ae(!re)},style:{float:"left"},children:[Object(O.jsx)(b.a,{icon:d.n})," Cancel"]}),Object(O.jsxs)(h.G,{visible:re,onDismiss:function(){return ae(!1)},children:[Object(O.jsx)(h.J,{onDismiss:function(){return ae(!1)},children:Object(O.jsx)(h.K,{children:"Cancel"})}),Object(O.jsx)(h.H,{children:"Do You Want To Cancel ?"}),Object(O.jsxs)(h.I,{children:[Object(O.jsxs)(h.d,{color:"light",onClick:function(){return ae(!1)},children:[Object(O.jsx)(b.a,{icon:d.n})," No"]}),Object(O.jsx)(i.b,{to:"/",children:Object(O.jsxs)(h.d,{color:"dark",children:[Object(O.jsx)(b.a,{icon:d.c})," Yes"]})})]})]}),Object(O.jsxs)(h.d,{block:!0,color:"dark",type:"submit",style:{marginLeft:"15px"},disabled:!y||!c||!L||!V||!J||!C||!D,onClick:function(){return Nt(m)},children:[Object(O.jsx)(b.a,{icon:d.k})," Save"]})]})})})]})})})})}},543:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var n=c(586);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var c=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(c.push(s.value),!t||c.length!==t);n=!0);}catch(i){r=!0,a=i}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return c}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},548:function(e,t,c){var n=c(146).toast;e.exports=function(e,t){switch(e){case"info":n.info(t);break;case"success":n.success(t);break;case"warning":n.warn(t);break;case"error":n.error(t);break;case"dark":n.dark(t);break;default:n(t)}}},555:function(e,t,c){var n,r=c(548),a=c(590).default,s="";localStorage.getItem("user")&&(s=JSON.parse(localStorage.getItem("user")).token),""==s?(console.log("there isno token"),n=a.create({timeout:6e3,headers:{"Content-Type":"application/json"}})):n=a.create({timeout:6e3,headers:{"Content-Type":"application/json",authorization:"Bearer "+s}}),n.interceptors.response.use((function(e){return e}),(function(e){401===e.response.status?(localStorage.removeItem("user"),window.location="/#/login",console.log(e.response.data.message),r("error",e.response.data.message)):r("error",e.response.data.message)})),e.exports=n},586:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var n=c(591);function r(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var c=Object.prototype.toString.call(e).slice(8,-1);return"Object"===c&&e.constructor&&(c=e.constructor.name),"Map"===c||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Object(n.a)(e,t):void 0}}},591:function(e,t,c){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var c=0,n=new Array(t);c<t;c++)n[c]=e[c];return n}c.d(t,"a",(function(){return n}))}}]);
//# sourceMappingURL=32.ea4932bd.chunk.js.map