(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[20],{1573:function(e,t,a){"use strict";a.r(t);var r=a(540),n=a.n(r),c=a(541),s=(a(0),a(142)),o=a(21),i=a(532),j=a.n(i),l=a(524),u=a(572),b=a(537),d=a(536),m=a(18);t.default=function(e){var t=u.b({username:u.d().min(3,"Must have atleast 3 characters").max(15,"Must be 15 characters or less").required("Username is required"),password:u.d().min(6,"Must have atleast 6 characters").max(15,"Must be 15 characters or less").required("Password is required")}),a=Object(o.g)(),r=function(){var e=Object(c.a)(n.a.mark((function e(t,r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("http://test.saakshar.co.in/api/v1/auth/login",{username:t,password:r}).then(function(){var e=Object(c.a)(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),localStorage.setItem("user",t.data.data),r=JSON.parse(localStorage.getItem("user")).token,j.a.interceptors.request.use((function(e){return r&&(e.headers.authorization="Bearer "+r),e}),(function(e){Promise.reject(e)})),a.push("/dashboard");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t.username,t.password);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:Object(m.jsx)(s.m,{children:Object(m.jsx)(s.U,{className:"justify-content-center",children:Object(m.jsx)(s.k,{md:"5",children:Object(m.jsx)(s.h,{children:Object(m.jsx)(s.e,{className:"p-4",children:Object(m.jsxs)(s.f,{children:[Object(m.jsx)("h4",{children:"Login"}),Object(m.jsx)("p",{className:"text-medium-emphasis",children:"Sign In to your Account"}),Object(m.jsx)(l.e,{initialValues:{username:"",password:""},validationSchema:t,onSubmit:i,children:function(e){return Object(m.jsxs)(l.d,{children:[Object(m.jsxs)(s.w,{className:"mb-3",children:[Object(m.jsx)(b.a,{control:"input",type:"text",placeholder:"Username",name:"username",id:"username"}),Object(m.jsx)(s.y,{htmlFor:"username",className:"required-field",children:"Username"})]}),Object(m.jsxs)(s.w,{className:"mb-3",children:[Object(m.jsx)(b.a,{control:"input",type:"password",placeholder:"Password",name:"password",id:"password"}),Object(m.jsx)(s.y,{htmlFor:"password",className:"required-field",children:"Password"})]}),Object(m.jsxs)(s.U,{children:[Object(m.jsx)(s.k,{xs:"6",children:Object(m.jsx)(s.d,{type:"submit",color:"dark",className:"px-4",disabled:e.isSubmitting||!e.dirty||!e.isValid,children:e.isSubmitting?Object(m.jsx)(d.a,{}):"Login"})}),Object(m.jsx)(s.k,{xs:"6",className:"text-right",children:Object(m.jsx)(s.d,{color:"gray",className:"px-0",children:"Forgot password?"})})]})]})}})]})})})})})})})}},532:function(e,t,a){var r,n=a(549),c=a(636).default,s="";localStorage.getItem("user")&&(s=JSON.parse(localStorage.getItem("user")).token),""==s?(console.log("there isno token"),r=c.create({timeout:6e3,headers:{"Content-Type":"application/json"}})):r=c.create({timeout:6e3,headers:{"Content-Type":"application/json",authorization:"Bearer "+s}}),r.interceptors.response.use((function(e){return e}),(function(e){401===e.response.status?(localStorage.removeItem("user"),window.location="/#/login",console.log(e.response.data.message),n("error",e.response.data.message)):n("error",e.response.data.message)})),e.exports=r},536:function(e,t,a){"use strict";a(0);var r=a(18);t.a=function(){return Object(r.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status"})}},537:function(e,t,a){"use strict";var r=a(44),n=a(143),c=a(0),s=a.n(c),o=a(142),i=a(524),j=a(18);var l=function(e){return Object(j.jsx)("div",{className:"invalid-feedback",children:e.children})},u=["formik","name","options","switcher"],b=Object(i.f)((function(e){var t=e.formik,a=e.name,c=e.options,b=(e.switcher,Object(n.a)(e,u)),d=Object(i.g)(t.errors,a),m=Object(i.g)(t.touched,a);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,Object(r.a)(Object(r.a)({name:a},b),{},{children:function(e){var t=e.field;return c.map((function(e){return Object(j.jsx)(s.a.Fragment,{children:Object(j.jsx)(o.v,Object(r.a)(Object(r.a)(Object(r.a)({id:e.value},t),b),{},{value:e.value,checked:t.value?t.value.includes(e.value):"",label:e.text,disabled:!!e.disabled&&e.disabled,className:"".concat(d&&m?"is-invalid":"","\n                  }")}))},e.text)}))}})),Object(j.jsx)(i.a,{name:a,component:l})]})})),d=["formik","name","id"];var m=Object(i.f)((function(e){var t=e.formik,a=e.name,c=e.id,s=Object(n.a)(e,d),u=t.handleChange,b=t.handleBlur,m=Object(i.g)(t.errors,a),O=Object(i.g)(t.touched,a);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(o.x,Object(r.a)(Object(r.a)({id:c,name:a,onChange:u,onBlur:b},s),{},{className:"form-control ".concat(m&&O?"is-invalid":"")})),Object(j.jsx)(i.a,{name:a,component:l})]})})),O=a(526),h=["formik","name","id","options"],p=Object(i.f)((function(e){var t=e.formik,a=e.name,s=e.id,u=e.options,b=Object(n.a)(e,h),d=t.handleChange,m=t.handleBlur,p=Object(i.g)(t.errors,a),f=Object(i.g)(t.touched,a),x=Object(c.useState)([]),v=Object(O.a)(x,2),g=v[0],k=v[1],w=[];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,{name:a,id:s,onChange:d,onBlur:m,children:function(e){var n=e.field;return g.map((function(e){return w.push(e.value),w})),t.values["".concat(a)]=w,Object(j.jsx)(o.M,Object(r.a)(Object(r.a)(Object(r.a)({},n),b),{},{options:u,onChange:k,className:"form-control  ".concat(p&&f?"is-invalid":"")}))}}),Object(j.jsx)(i.a,{name:a,component:l})]})})),f=["formik","name","options"],x=Object(i.f)((function(e){var t=e.formik,a=e.name,c=e.options,u=Object(n.a)(e,f),b=Object(i.g)(t.errors,a),d=Object(i.g)(t.touched,a);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,Object(r.a)(Object(r.a)({name:a},u),{},{children:function(e){var t=e.field;return c.map((function(e){return Object(j.jsx)(s.a.Fragment,{children:Object(j.jsx)(o.v,Object(r.a)(Object(r.a)(Object(r.a)({type:"radio",id:e.value},t),u),{},{value:e.value,checked:t.value===e.value,label:e.text,className:"".concat(b&&d?"is-invalid":"")}))},e.text)}))}})),Object(j.jsx)(i.a,{name:a,component:l})]})})),v=["formik","name","options","id","placeholder"],g=Object(i.f)((function(e){var t=e.formik,a=e.name,c=e.options,s=e.id,u=e.placeholder,b=Object(n.a)(e,v),d=(t.handleChange,t.handleBlur,Object(i.g)(t.errors,a)),m=Object(i.g)(t.touched,a);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,Object(r.a)(Object(r.a)({name:a},b),{},{children:function(e){var t=e.field;return Object(j.jsxs)(o.z,Object(r.a)(Object(r.a)(Object(r.a)({id:s,name:a},b),t),{},{className:"form-control ".concat(d&&m?"is-invalid":""),children:[Object(j.jsxs)("option",{value:"",children:[" ",u||"Select..."]}),c.map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))]}))}})),Object(j.jsx)(i.a,{name:a,component:l})]})})),k=["formik","name","options","id","placeholder"],w=Object(i.f)((function(e){var t=e.formik,a=e.name,c=e.options,s=e.id,u=e.placeholder,b=Object(n.a)(e,k),d=Object(i.g)(t.errors,a),m=Object(i.g)(t.touched,a);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,Object(r.a)(Object(r.a)({name:a},b),{},{children:function(e){var t=e.field;return Object(j.jsxs)(o.z,Object(r.a)(Object(r.a)(Object(r.a)({id:s,name:a},b),t),{},{className:"form-control ".concat(d&&m?"is-invalid":""),children:[Object(j.jsxs)("option",{value:"",children:[" ",u||"Select..."]}),c.map((function(e){return Object(j.jsx)("option",{value:e.value,children:e.text},e.value)}))]}))}})),Object(j.jsx)(i.a,{name:a,component:l})]})})),N=["formik","name","id"],y=Object(i.f)((function(e){var t=e.formik,a=e.name,c=e.id,s=Object(n.a)(e,N),u=(t.handleChange,t.handleBlur,Object(i.g)(t.errors,a)),b=Object(i.g)(t.touched,a);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,Object(r.a)(Object(r.a)({name:a},s),{},{children:function(e){var t=e.field;return Object(j.jsx)(o.A,Object(r.a)(Object(r.a)(Object(r.a)({id:c,name:a},t),s),{},{className:"form-control ".concat(u&&b?"is-invalid":"")}))}})),Object(j.jsx)(i.a,{name:a,component:l})]})})),S=["control"];t.a=function(e){var t=e.control,a=Object(n.a)(e,S);switch(t){case"input":return Object(j.jsx)(m,Object(r.a)({},a));case"textarea":return Object(j.jsx)(y,Object(r.a)({},a));case"select":return Object(j.jsx)(g,Object(r.a)({},a));case"selectwithkey":return Object(j.jsx)(w,Object(r.a)({},a));case"multiselect":return Object(j.jsx)(p,Object(r.a)({},a));case"radio":return Object(j.jsx)(x,Object(r.a)({},a));case"checkbox":return Object(j.jsx)(b,Object(r.a)({},a));default:return null}}},549:function(e,t,a){var r=a(163).toast;e.exports=function(e,t){switch(e){case"info":r.info(t);break;case"success":r.success(t);break;case"warning":r.warn(t);break;case"error":r.error(t);break;case"dark":r.dark(t);break;default:r(t)}}}}]);
//# sourceMappingURL=20.9a8eccd8.chunk.js.map