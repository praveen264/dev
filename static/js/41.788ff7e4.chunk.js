(this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]=this["webpackJsonp@coreui/coreui-pro-react-admin-template-starter"]||[]).push([[41],{1603:function(e,t,c){"use strict";c.r(t);var n=c(573),r=c.n(n),s=c(574),a=c(550),i=c(0),o=c(145),l=c(864),j=c(554),u=c.n(j),d=c(584),b=c(589),h=c(142),O=c(18),x={bucketName:"deveduveda1",dirName:"school_logos",region:"ap-south-1",accessKeyId:"AKIAZ6XP757OK2NV2CHZ",secretAccessKey:"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"};t.default=function(){var e=Object(i.useState)(""),t=Object(a.a)(e,2),c=t[0],n=t[1],j=Object(i.useState)(""),p=Object(a.a)(j,2),m=p[0],f=p[1],g=Object(i.useState)(""),v=Object(a.a)(g,2),S=v[0],y=v[1],k=Object(i.useState)(""),w=Object(a.a)(k,2),C=w[0],N=w[1],q=Object(i.useState)(""),I=Object(a.a)(q,2),D=I[0],T=I[1],R=Object(i.useState)(""),E=Object(a.a)(R,2),P=E[0],_=E[1],U=Object(i.useState)(""),A=Object(a.a)(U,2),L=A[0],K=A[1],M=Object(i.useState)(""),z=Object(a.a)(M,2),J=z[0],B=z[1],F=Object(i.useState)(0),W=Object(a.a)(F,2),Y=W[0],Z=W[1],G=Object(i.useState)(""),H=Object(a.a)(G,2),V=H[0],X=H[1],Q=Object(i.useState)(""),$=Object(a.a)(Q,2),ee=$[0],te=$[1],ce=Object(i.useState)(!1),ne=Object(a.a)(ce,2),re=ne[0],se=ne[1],ae=Object(i.useState)([]),ie=Object(a.a)(ae,2),oe=ie[0],le=ie[1],je=Object(i.useState)(""),ue=Object(a.a)(je,2),de=ue[0],be=ue[1],he=Object(i.useState)([]),Oe=Object(a.a)(he,2),xe=Oe[0],pe=Oe[1],me=Object(i.useState)(),fe=Object(a.a)(me,2),ge=fe[0],ve=fe[1],Se=Object(i.useState)([]),ye=Object(a.a)(Se,2),ke=ye[0],we=ye[1],Ce=Object(i.useState)(),Ne=Object(a.a)(Ce,2),qe=Ne[0],Ie=Ne[1],De=Object(i.useState)(),Te=Object(a.a)(De,2),Re=Te[0],Ee=Te[1],Pe=Object(i.useState)({}),_e=Object(a.a)(Pe,2),Ue=_e[0],Ae=_e[1],Le=Object(i.useState)({}),Ke=Object(a.a)(Le,2),Me=Ke[0],ze=Ke[1],Je=Object(i.useState)({}),Be=Object(a.a)(Je,2),Fe=Be[0],We=Be[1],Ye=Object(i.useState)({}),Ze=Object(a.a)(Ye,2),Ge=Ze[0],He=Ze[1],Ve=Object(i.useState)({}),Xe=Object(a.a)(Ve,2),Qe=Xe[0],$e=Xe[1],et=Object(i.useState)({}),tt=Object(a.a)(et,2),ct=tt[0],nt=tt[1],rt=Object(i.useState)({}),st=Object(a.a)(rt,2),at=st[0],it=st[1],ot=Object(i.useState)({}),lt=Object(a.a)(ot,2),jt=lt[0],ut=lt[1],dt=Object(i.useState)({}),bt=Object(a.a)(dt,2),ht=bt[0],Ot=bt[1],xt=Object(i.useState)({}),pt=Object(a.a)(xt,2),mt=pt[0],ft=pt[1],gt=Object(i.useState)({}),vt=Object(a.a)(gt,2),St=vt[0],yt=vt[1],kt=Object(i.useState)({}),wt=Object(a.a)(kt,2),Ct=wt[0],Nt=wt[1];Object(i.useEffect)((function(){u.a.get("http://test.saakshar.co.in/api/v1/auth/get-countries").then((function(e){var t=e.data.data;le(t)})).catch((function(e){console.log(e)}))}),[]);Object(i.useEffect)((function(){u.a.get("http://test.saakshar.co.in/api/v1"+"/auth/get-states/".concat(ge)).then((function(e){var t=e.data.data;pe(t)})).catch((function(e){console.log(e)}))}),[ge]),Object(i.useEffect)((function(){u.a.get("http://test.saakshar.co.in/api/v1"+"/auth/get-cities/".concat(ge,"/").concat(qe)).then((function(e){var t=e.data.data;we(t)})).catch((function(e){console.log(e)}))}),[qe]);var qt=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(l.uploadFile)(t,x).then((function(e){return console.log(e,"Logo uploaded successfully")})).catch((function(e){return console.error(e,"")}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),It=function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Dt()){e.next=6;break}return e.next=5,u.a.post("http://test.saakshar.co.in/api/v1/auth/create-chain-school",{name:S,username:c,password:V,email:L,mobile:J,address:C,pin_code:D,state:qe,city:Re,website:P,other_details:"a",logo:de,share_resources:Y}).then(function(){var e=Object(s.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:alert(t.data.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){alert(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e={},t={},n={},r={},s={},a={},i={},o={},l=!0;return c.trim()?(/[^a-zA-Z0-9_.]/.test(c)||c.trim().length<6)&&(e.UserIDinvalid="UserID is Invalid (@ , # not suppourted) / < 6 Digits",l=!1):e.UserIDrequired="Required",S.trim()||(t.schoolNameShort=" Required",l=!1),D.trim()?(!/[123456789][0-9]{5}/.test(D)||D.trim().length>6)&&(n.pinshort="PIN should be 6 Digits only / PIN Can't Start with 0",l=!1):(n.pinreq=" Required",l=!1),C.trim()||(o.addressShort=" Required",l=!1),L.trim()?/\S+@\S+\.\S+/.test(L)||(r.emailinvalid="Email address is invalid",l=!1):(r.emailrequired="Required",l=!1),J.trim()?(J.trim().length>10||!/[6789][0-9]{9}/.test(J))&&(s.mobshort="Mobile number must be Valid & of 10 Digits Only",l=!1):(s.mobreq=" Required",l=!1),V.trim()?(V.trim().length<6||V.trim().length>20)&&(a.passshort="Invalid / < 6 Digits",l=!1):(a.passreq=" Required",l=!1),ee.trim()?ee!==V&&(i.pass2short="Doesn't Match ",l=!1):(a.pass2req="",l=!1),Ae(e),ze(t),We(n),ut({}),Ot(r),ft(s),yt(a),Nt(i),$e({}),He({}),nt({}),it(o),l};return Object(O.jsx)("form",{onSubmit:It,children:Object(O.jsx)(h.T,{className:"justify-content-center",children:Object(O.jsx)(h.j,{children:Object(O.jsxs)(h.e,{children:[Object(O.jsxs)(h.f,{children:[Object(O.jsx)(h.T,{children:Object(O.jsx)(h.j,{md:"8",lg:"6",xl:"8",children:Object(O.jsx)("h5",{children:"Create Chain School"})})}),Object(O.jsx)("p",{className:"text-muted",children:"Register a Chain School"}),Object(O.jsxs)(h.T,{children:[Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{className:"required-field",children:"Chain School Name"}),Object(O.jsx)(h.w,{id:"school_name",placeholder:"Name of School",value:S,onChange:function(e){y(e.target.value)}},"schoolname"),Object.keys(Me).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Me[e]})}))]}),Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:"User Name :"}),Object(O.jsx)(h.w,{id:"school_name",placeholder:"Unique User Name",value:c,onChange:function(e){n(e.target.value)}},"username"),Object.keys(Ue).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Ue[e]})}))]})]}),Object(O.jsxs)(h.T,{children:[Object(O.jsxs)(h.j,{children:[Object(O.jsx)(h.x,{children:" Password :"}),Object(O.jsx)(h.w,{id:"",type:"password",value:V,onChange:function(e){X(e.target.value)}},"password"),Object.keys(St).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:St[e]})}))]}),Object(O.jsxs)(h.j,{children:[Object(O.jsx)(h.x,{children:" Re-Enter Password :"}),Object(O.jsx)(h.w,{id:"",type:"password",value:ee,onChange:function(e){te(e.target.value)}},"re-password"),Object.keys(Ct).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Ct[e]})}))]})]}),Object(O.jsxs)(h.T,{children:[Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:"Email ID :"}),Object(O.jsx)(h.w,{id:"",placeholder:"School Email ID",value:L,onChange:function(e){K(e.target.value)}},"email"),Object.keys(ht).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:ht[e]})}))]}),Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" Mobile :"}),Object(O.jsx)(h.w,{id:"",placeholder:" Mobile Number",type:"number",value:J,onChange:function(e){B(e.target.value)}},"mobile"),Object.keys(mt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:mt[e]})}))]})]}),Object(O.jsxs)(h.T,{children:[Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" School Address:"}),Object(O.jsx)(h.z,{id:"",placeholder:"Address of Your School",rows:"1",value:C,onChange:function(e){N(e.target.value)}},"address"),Object.keys(at).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:at[e]})}))]}),Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" Pin:"}),Object(O.jsx)(h.w,{id:"pin",type:"number",placeholder:"Pin Code",value:D,onChange:function(e){T(e.target.value)}},"pin"),Object.keys(Fe).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Fe[e]})}))]})]}),Object(O.jsxs)(h.T,{children:[Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" Country:"}),Object(O.jsxs)(h.y,{value:oe.name,onChange:function(e){var t=e.target.value;ve(t)},children:[Object(O.jsx)("option",{children:"Select the Country"}),oe.map((function(e){return Object(O.jsx)("option",{value:e.country_code,children:e.name})}))]},"country"),Object.keys(ct).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:ct[e]})}))]}),Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" State:"}),Object(O.jsxs)(h.y,{value:xe.name,onChange:function(e){Ie(e.target.value)},children:[Object(O.jsx)("option",{disabled:!0,children:"Select the Country First"}),xe.map((function(e){return Object(O.jsx)("option",{value:e.state_code,children:e.name})}))]},"state"),Object.keys(Ge).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Ge[e]})}))]})]}),Object(O.jsxs)(h.T,{children:[Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" City:"}),Object(O.jsxs)(h.y,{value:ke.name,onChange:function(e){Ee(e.target.value)},children:[Object(O.jsx)("option",{disabled:!0,children:"Select the State First"}),ke.map((function(e){return Object(O.jsx)("option",{value:e.name,children:e.name})}))]},"city"),Object.keys(Qe).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:Qe[e]})}))]}),Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:"Website Of School :"}),Object(O.jsx)(h.w,{id:"",placeholder:"Example ==> www.websiteofschool.com",value:P,onChange:function(e){_(e.target.value)}},"website"),Object.keys(jt).map((function(e){return Object(O.jsx)("div",{style:{color:"red"},children:jt[e]})}))]})]}),Object(O.jsx)(h.T,{children:Object(O.jsxs)(h.j,{md:"9",lg:"7",xl:"6",children:[Object(O.jsx)(h.x,{children:" Upload Logo:"}),Object(O.jsx)(h.w,{type:"file",id:"",onChange:function(e){be(e.target.files[0].name),f(e.target.files[0])}},"logo")]})}),Object(O.jsx)(h.j,{children:Object(O.jsx)(h.u,{type:"checkbox",id:"gridCheck",label:"Allow Sharing of Learning Resources With Other Branches",value:1,onChange:function(e){Z(e.target.checked)}},"check")})]}),Object(O.jsx)(h.g,{children:Object(O.jsx)(h.T,{children:Object(O.jsxs)(h.j,{md:"3",children:[Object(O.jsxs)(h.d,{block:!0,color:"light",onClick:function(){return se(!re)},style:{float:"left"},children:[Object(O.jsx)(b.a,{icon:d.n})," Cancel"]}),Object(O.jsxs)(h.G,{visible:re,onDismiss:function(){return se(!1)},children:[Object(O.jsx)(h.J,{onDismiss:function(){return se(!1)},children:Object(O.jsx)(h.K,{children:"Cancel"})}),Object(O.jsx)(h.H,{children:"Do You Want To Cancel ?"}),Object(O.jsxs)(h.I,{children:[Object(O.jsxs)(h.d,{color:"light",onClick:function(){return se(!1)},children:[Object(O.jsx)(b.a,{icon:d.n})," No"]}),Object(O.jsx)(o.b,{to:"/",children:Object(O.jsxs)(h.d,{color:"dark",children:[Object(O.jsx)(b.a,{icon:d.c})," Yes"]})})]})]}),Object(O.jsxs)(h.d,{block:!0,color:"dark",type:"submit",style:{marginLeft:"15px"},disabled:!S||!c||!L||!V||!J||!C||!D,onClick:function(){return qt(m)},children:[Object(O.jsx)(b.a,{icon:d.k})," Save"]})]})})})]})})})})}},543:function(e,t,c){var n=c(147).toast;e.exports=function(e,t){switch(e){case"info":n.info(t);break;case"success":n.success(t);break;case"warning":n.warn(t);break;case"error":n.error(t);break;case"dark":n.dark(t);break;default:n(t)}}},554:function(e,t,c){var n,r=c(543),s=c(582).default,a="";localStorage.getItem("user")&&(a=JSON.parse(localStorage.getItem("user")).token),""==a?(console.log("there isno token"),n=s.create({timeout:6e3,headers:{"Content-Type":"application/json"}})):n=s.create({timeout:6e3,headers:{"Content-Type":"application/json",authorization:"Bearer "+a}}),n.interceptors.response.use((function(e){return e}),(function(e){401===e.response.status?(localStorage.removeItem("user"),window.location="/#/login",console.log(e.response.data.message),r("error",e.response.data.message)):r("error",e.response.data.message)})),e.exports=n}}]);
//# sourceMappingURL=41.788ff7e4.chunk.js.map