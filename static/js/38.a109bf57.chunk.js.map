{"version":3,"sources":["../node_modules/tiny-warning/dist/tiny-warning.esm.js","views/ev_super_admin/school_management/all-chain-schools/all-chain-schools.js","helpers/notify.js","helpers/edu_axios.js"],"names":["warning","condition","message","ManageChainSchool","history","useHistory","useState","state","setstate","EDU_AXIOS","get","process","then","resp","console","log","data","title","columns","field","onSelectionChange","rows","setSelectedRows","options","search","paging","filtering","exportButton","actionsColumnIndex","rowStyle","x","tableData","id","backgroundColor","pageSize","emptyRowsWhenPaging","pageSizeOptions","actions","icon","tooltip","onClick","event","rowData","push","toast","require","module","exports","type","info","success","warn","error","dark","notify","axios","default","token","localStorage","getItem","JSON","parse","create","timeout","headers","authorization","interceptors","response","use","status","removeItem","window","location"],"mappings":"2LAmBeA,IAlBf,SAAiBC,EAAWC,M,0HCuFbC,UAjFf,WACE,IAAIC,EAAUC,cACd,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAsBA,OALAC,IAAUC,IADVC,4DAECC,MAAK,SAACC,GACLC,QAAQC,IAAIF,GACbL,EAASK,EAAKG,KAAKA,SAGlB,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CACEC,MAAM,gBAoBND,KAAMT,EACNW,QA9CQ,CACd,CACED,MAAO,OACPE,MAAO,QAET,CACEF,MAAO,YACPE,MAAO,YAET,CACEF,MAAO,QACPE,MAAO,UAoCHC,kBAAmB,SAACC,GAAD,OAAUC,gBAAgBD,IAC7CE,QAAS,CACPC,QAAQ,EACRC,QAAQ,EACRC,WAAW,EACXC,cAAc,EACdC,mBAAoB,EACpBC,SAAU,SAACC,GACT,GAAIA,EAAEC,UAAUC,GAAK,EACnB,MAAO,CAAEC,gBAAiB,YAG9BC,SAAS,GACPC,qBAAqB,EACrBC,gBAAgB,CAAC,GAAG,GAAG,KAG3BC,QAAS,CACP,CACEC,KAAM,aACNC,QAAS,cACTC,QAAS,SAACC,EAAOC,GAAR,OACPtC,EAAQuC,KAAR,uBAA6BD,EAAQV,gB,oBC/ErD,IAAMY,EAAUC,EAAQ,KAAlBD,MAwBNE,EAAOC,QAtBQ,SAACC,EAAM9C,GACpB,OAAQ8C,GACN,IAAK,OACHJ,EAAMK,KAAK/C,GACX,MACF,IAAK,UACH0C,EAAMM,QAAQhD,GACd,MACF,IAAK,UACH0C,EAAMO,KAAKjD,GACX,MACF,IAAK,QACH0C,EAAMQ,MAAMlD,GACZ,MACF,IAAK,OACH0C,EAAMS,KAAKnD,GACX,MACF,QACE0C,EAAM1C,M,oBCpBZ,IAEIO,EAFE6C,EAAST,EAAQ,KACjBU,EAAQV,EAAQ,KAASW,QAE3BC,EAAQ,GAEDC,aAAaC,QAAQ,UAE9BF,EAAQG,KAAKC,MAAMH,aAAaC,QAAQ,SAASF,OA4BpC,IAATA,GACF3C,QAAQC,IAAI,oBACZN,EAAY8C,EAAMO,OAAO,CACvBC,QAAS,IACTC,QAAS,CACP,eAAgB,uBAIpBvD,EAAY8C,EAAMO,OAAO,CACvBC,QAAS,IACTC,QAAS,CACP,eAAgB,mBAChBC,cAAe,UAAYR,KAQjChD,EAAUyD,aAAaC,SAASC,KAC9B,SAACD,GAAD,OAAcA,KACd,SAACf,GAC+B,MAA1BA,EAAMe,SAASE,QACjBX,aAAaY,WAAW,QACxBC,OAAOC,SAAW,WAClB1D,QAAQC,IAAIqC,EAAMe,SAASnD,KAAKd,SAChCoD,EAAO,QAASF,EAAMe,SAASnD,KAAKd,UAEpCoD,EAAO,QAASF,EAAMe,SAASnD,KAAKd,YAM5C4C,EAAOC,QAAUtC","file":"static/js/38.a109bf57.chunk.js","sourcesContent":["var isProduction = process.env.NODE_ENV === 'production';\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;\n","import React, { useState } from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { CCard, CCardBody } from \"@coreui/react-pro\";\r\nimport EDU_AXIOS from \"src/helpers/edu_axios\";\r\nimport { TablePagination } from '@material-ui/core';\r\n\r\nfunction ManageChainSchool() {\r\n  let history = useHistory();\r\n  const [state, setstate] = useState([])\r\n  const columns = [\r\n    {\r\n      title: \"Name\",\r\n      field: \"name\",\r\n    },\r\n    {\r\n      title: \"User Name\",\r\n      field: \"username\",\r\n    },\r\n    {\r\n      title: \"Email\",\r\n      field: \"email\",\r\n    },\r\n  ];\r\n  let url =\r\n  process.env.REACT_APP_API_PATH + \"/auth/get-chain-schools\";\r\n  EDU_AXIOS.get(url)\r\n  .then((resp) => {\r\n    console.log(resp);\r\n   setstate(resp.data.data)\r\n  });\r\n  return (\r\n    <CCard>\r\n      <CCardBody>\r\n        <MaterialTable\r\n          title=\"Chain Schools\"\r\n          // data={(query) =>\r\n          //   new Promise((resolve, reject) => {\r\n          //     let url =\r\n          //       process.env.REACT_APP_API_PATH + \"/auth/get-chain-schools?\";\r\n          //     url += `page= ${query.page + 1}`;\r\n          //     url += `&limit= ${query.pageSize}`;\r\n          //     EDU_AXIOS.get(url)\r\n          //       .then((resp) => {\r\n          //         resolve({\r\n          //           data: resp.data.data, // your data array\r\n          //           page: query.page, // current page number\r\n          //           totalCount: resp.data.total_count, // total row number\r\n          //         });\r\n          //       })\r\n          //       .catch((error) => {\r\n          //         console.log(error);\r\n          //       });\r\n          //   })\r\n          // }\r\n          data={state}\r\n          columns={columns}\r\n          onSelectionChange={(rows) => setSelectedRows(rows)}\r\n          options={{\r\n            search: true,\r\n            paging: true,\r\n            filtering: false,\r\n            exportButton: true,\r\n            actionsColumnIndex: 4,\r\n            rowStyle: (x) => {\r\n              if (x.tableData.id % 2) {\r\n                return { backgroundColor: \"#f9f9f9\" };\r\n              }\r\n            },\r\n            pageSize:20,       \r\n              emptyRowsWhenPaging: true, \r\n              pageSizeOptions:[20,40,60]\r\n          }}\r\n          \r\n          actions={[\r\n            {\r\n              icon: \"visibility\",\r\n              tooltip: \"View School\",\r\n              onClick: (event, rowData) =>\r\n                history.push(`chain-school/${rowData.id}`),\r\n            },\r\n          ]}\r\n        />\r\n      </CCardBody>\r\n    </CCard>\r\n  );\r\n}\r\n\r\nexport default ManageChainSchool;\r\n","let { toast } = require(\"react-toastify\");\r\n\r\nconst notify = (type, message) => {\r\n  switch (type) {\r\n    case \"info\":\r\n      toast.info(message);\r\n      break;\r\n    case \"success\":\r\n      toast.success(message);\r\n      break;\r\n    case \"warning\":\r\n      toast.warn(message);\r\n      break;\r\n    case \"error\":\r\n      toast.error(message);\r\n      break;\r\n    case \"dark\":\r\n      toast.dark(message);\r\n      break;\r\n    default:\r\n      toast(message);\r\n  }\r\n};\r\n\r\nmodule.exports = notify;\r\n","const notify = require(\"./notify\");\r\nconst axios = require(\"axios\").default;\r\nlet EDU_AXIOS;\r\nlet token = \"\";\r\n// to set authorization header on test mode\r\nlet user = localStorage.getItem(\"user\");\r\nif (user) {\r\n  token = JSON.parse(localStorage.getItem(\"user\")).token;\r\n}\r\nif (process.env.REACT_APP_APP_ENV == \"production\") {\r\n  EDU_AXIOS = axios.create({\r\n    timeout: 6000,\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  /**\r\n   * Catch the AunAuthorized Request\r\n   */\r\n  EDU_AXIOS.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n      if (error.response.status === 401) {\r\n        localStorage.removeItem(\"user\");\r\n        window.location = \"/#/login\";\r\n        notify(\"error\", error.response.message);\r\n      } else {\r\n        notify(\"error\", error.response.message);\r\n      }\r\n    }\r\n  );\r\n}\r\nif (process.env.REACT_APP_APP_ENV == \"test\") {\r\n  if (token == \"\") {\r\n    console.log(\"there isno token\");\r\n    EDU_AXIOS = axios.create({\r\n      timeout: 6000,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  } else {\r\n    EDU_AXIOS = axios.create({\r\n      timeout: 6000,\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: \"Bearer \" + token,\r\n      },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Catch the AunAuthorized Request\r\n   */\r\n  EDU_AXIOS.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n      if (error.response.status === 401) {\r\n        localStorage.removeItem(\"user\");\r\n        window.location = \"/#/login\";\r\n        console.log(error.response.data.message);\r\n        notify(\"error\", error.response.data.message);\r\n      } else {\r\n        notify(\"error\", error.response.data.message);\r\n      }\r\n    }\r\n  );\r\n}\r\n\r\nmodule.exports = EDU_AXIOS;\r\n"],"sourceRoot":""}